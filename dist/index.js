(()=>{"use strict";var e,t,n={440:(e,t,n)=>{n.d(t,{nl:()=>i,be:()=>s});var r=n(540),o=n(848);const a=function(e){let{message:t,duration:n=3e3,isError:a=!1,onClose:l}=e;const[i,s]=(0,r.useState)(!1),u=(0,r.useRef)(null);return(0,r.useEffect)((()=>(t&&(s(!0),clearTimeout(u.current),u.current=setTimeout((()=>{s(!1),l&&l()}),n)),()=>{clearTimeout(u.current)})),[t,n,l]),i&&t?(0,o.jsxs)("div",{className:"api-toast "+(a?"error":""),children:[(0,o.jsx)("span",{id:"api-toast-message",children:t}),(0,o.jsx)("button",{className:"close-api-toast",onClick:()=>{s(!1),clearTimeout(u.current),l&&l()},"aria-label":"关闭通知",children:"×"})]}):null},l=(0,r.createContext)();function i(e){let{children:t}=e;const[n,i]=(0,r.useState)({message:"",isError:!1,duration:3e3,visible:!1}),s=(0,r.useCallback)((function(e){i({message:e,isError:arguments.length>1&&void 0!==arguments[1]&&arguments[1],duration:arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,visible:!0})}),[]),u=(0,r.useCallback)((()=>{i((e=>({...e,visible:!1,message:""})))}),[]),c={showApiToast:s,hideApiToast:u};return(0,o.jsxs)(l.Provider,{value:c,children:[t,n.visible&&(0,o.jsx)(a,{message:n.message,isError:n.isError,duration:n.duration,onClose:u})]})}function s(){const e=(0,r.useContext)(l);if(!e)throw new Error("useApiNotification must be used within ApiNotificationProvider");return e}},169:(e,t,n)=>{n.d(t,{QN:()=>f,oi:()=>p});var r=n(540),o=n(209),a=n(706),l=n(700),i=n(848);const s={model:{useCustomModel:!1,selectedModel:"",customModelId:"",width:512,height:512,count:1,steps:20,cfgScale:7,seed:-1,vae:"ae.sft",sampler:"Euler",clipSkip:1,aspectRatioLocked:!1},loras:[{model:"",weight:1},{model:"",weight:1},{model:"",weight:1}],prompt:"",negativePrompt:"",originalPrompt:"",apiKey:"",imageDisplayMode:"add",imageMaxHeight:"40vh",buttonWidth:100,buttonHeight:100,autoFillPrompt:!0,isGenerating:!1,error:null,stamina:{used:0,total:1e4,lastUpdate:null,isLoading:!1},upscaler:{enabled:!1,model:"4x-UltraSharp",resizeX:1024,resizeY:1024,steps:20,denoisingStrength:.3},activeTab:"generate",showSettings:!1,activeHeader:"default",notepadEntries:[],uiState:{showSettings:!1,showNotepad:!1},isOpen:!1},u={SET_MODEL_PARAM:"SET_MODEL_PARAM",TOGGLE_CUSTOM_MODEL:"TOGGLE_CUSTOM_MODEL",TOGGLE_ASPECT_RATIO_LOCK:"TOGGLE_ASPECT_RATIO_LOCK",SET_PROMPT:"SET_PROMPT",SET_NEGATIVE_PROMPT:"SET_NEGATIVE_PROMPT",ADD_LORA:"ADD_LORA",UPDATE_LORA:"UPDATE_LORA",REMOVE_LORA:"REMOVE_LORA",SET_API_KEY:"SET_API_KEY",SET_IMAGE_DISPLAY_MODE:"SET_IMAGE_DISPLAY_MODE",SET_IMAGE_MAX_HEIGHT:"SET_IMAGE_MAX_HEIGHT",SET_BUTTON_SIZE:"SET_BUTTON_SIZE",SET_GENERATING:"SET_GENERATING",SET_ERROR:"SET_ERROR",UPDATE_STAMINA:"UPDATE_STAMINA",TOGGLE_UPSCALER:"TOGGLE_UPSCALER",SET_UPSCALER_PARAM:"SET_UPSCALER_PARAM",SET_ACTIVE_TAB:"SET_ACTIVE_TAB",TOGGLE_SETTINGS:"TOGGLE_SETTINGS",SET_ACTIVE_HEADER:"SET_ACTIVE_HEADER",LOAD_SETTINGS:"LOAD_SETTINGS",ADD_TO_PROMPT:"ADD_TO_PROMPT",UPDATE_LORAS:"UPDATE_LORAS",UPDATE_NOTEPAD_ENTRIES:"UPDATE_NOTEPAD_ENTRIES",TOGGLE_UI_STATE:"TOGGLE_UI_STATE",TOGGLE_AUTO_FILL_PROMPT:"TOGGLE_AUTO_FILL_PROMPT"};function c(e,t){try{switch(t.type){case u.SET_MODEL_PARAM:return{...e,model:{...e.model,[t.payload.param]:t.payload.value}};case u.TOGGLE_CUSTOM_MODEL:return{...e,model:{...e.model,useCustomModel:!e.model.useCustomModel}};case u.TOGGLE_ASPECT_RATIO_LOCK:return{...e,model:{...e.model,aspectRatioLocked:!e.model.aspectRatioLocked}};case u.SET_PROMPT:return{...e,prompt:t.value,originalPrompt:void 0!==t.originalPrompt?t.originalPrompt:e.originalPrompt};case u.SET_NEGATIVE_PROMPT:return{...e,negativePrompt:t.value};case u.ADD_LORA:return{...e,loras:[...e.loras,{model:"",weight:.8}]};case u.UPDATE_LORA:return{...e,loras:e.loras.map(((e,n)=>n===t.index?{...e,[t.param]:t.value}:e))};case u.REMOVE_LORA:return{...e,loras:e.loras.filter(((e,n)=>n!==t.index))};case u.SET_API_KEY:return{...e,apiKey:t.payload};case u.SET_IMAGE_DISPLAY_MODE:return{...e,imageDisplayMode:t.payload};case u.SET_IMAGE_MAX_HEIGHT:return{...e,imageMaxHeight:t.payload};case u.SET_BUTTON_SIZE:return{...e,buttonWidth:t.width||e.buttonWidth,buttonHeight:t.height||e.buttonHeight};case u.SET_GENERATING:return{...e,isGenerating:t.payload};case u.SET_ERROR:return{...e,error:t.payload};case u.UPDATE_STAMINA:return{...e,stamina:{...e.stamina,...t.payload}};case u.TOGGLE_UPSCALER:return{...e,upscaler:{...e.upscaler,enabled:!e.upscaler.enabled}};case u.SET_UPSCALER_PARAM:return{...e,upscaler:{...e.upscaler,[t.param]:t.value}};case u.SET_ACTIVE_TAB:return{...e,activeTab:t.payload};case u.TOGGLE_SETTINGS:return{...e,showSettings:void 0!==t.value?t.value:!e.showSettings};case u.SET_ACTIVE_HEADER:return{...e,activeHeader:t.payload};case u.LOAD_SETTINGS:const n=t.payload||{};return n.loras&&Array.isArray(n.loras)&&0!==n.loras.length||(n.loras=[...s.loras]),{...e,...n};case u.ADD_TO_PROMPT:return{...e,prompt:t.payload};case u.UPDATE_LORAS:return{...e,loras:t.payload};case u.UPDATE_NOTEPAD_ENTRIES:return{...e,notepadEntries:t.payload};case u.TOGGLE_UI_STATE:return{...e,uiState:{...e.uiState,[t.payload.key]:t.payload.value}};case u.TOGGLE_AUTO_FILL_PROMPT:return{...e,autoFillPrompt:void 0!==t.payload?t.payload:!e.autoFillPrompt};default:return e}}catch(t){return console.error("Error in drawingReducer:",t),{...e,error:t.message}}}const d=(0,r.createContext)();function f(e){let{children:t}=e;const[n,f]=(0,r.useReducer)(c,s),[p,m]=(0,r.useState)(null);(0,r.useEffect)((()=>{(()=>{try{const e=(0,o.M5)();e&&(e.loras&&Array.isArray(e.loras)?0===e.loras.length&&(e.loras=[...s.loras]):e.loras=[...s.loras],f({type:u.LOAD_SETTINGS,payload:e}))}catch(e){console.error("加载设置出错:",e),f({type:u.SET_ERROR,payload:"设置加载失败: "+e.message})}})()}),[]),(0,r.useEffect)((()=>{const e=setTimeout((()=>{try{const e={model:n.model,loras:n.loras,prompt:n.prompt,negativePrompt:n.negativePrompt,apiKey:n.apiKey,imageDisplayMode:n.imageDisplayMode,imageMaxHeight:n.imageMaxHeight,buttonWidth:n.buttonWidth,buttonHeight:n.buttonHeight,stamina:n.stamina,upscaler:n.upscaler,activeHeader:n.activeHeader,autoFillPrompt:n.autoFillPrompt},t=e.loras.filter((e=>{if(!e.model||""===e.model.trim())return!1;const t=e.model.trim();return/^\d+$/.test(t)||/^(?:https?:\/\/)?tensor\.art\/models\/(\d+)(?:\/[^\/?#]*)?/.test(t)})).map((e=>{let t=e.model.trim();const n=t.match(/^(?:https?:\/\/)?tensor\.art\/models\/(\d+)(?:\/[^\/?#]*)?/);return n&&(t=n[1]),{model:t,weight:(0,a.Of)(e.weight)}}));t.length>0?e.loras=t:e.loras=[...s.loras],(0,o.DZ)(e)}catch(e){console.error("Error saving settings:",e)}}),500);return()=>clearTimeout(e)}),[n]),(0,r.useEffect)((()=>{(e=>{const t="jjdd-huatu-style";let n=document.getElementById(t);n||(n=document.createElement("style"),n.id=t,document.head.appendChild(n));const r=e||"40vh";n.textContent=`\n        .mes_img {\n          max-height: ${r} !important;\n        }\n      `})(n.imageMaxHeight)}),[n.imageMaxHeight]),(0,r.useEffect)((()=>{let e=null;const t=localStorage.getItem("jjdd_api_key");if(t)e=t,console.log("从 jjdd_api_key 获取到API密钥");else{try{const t=localStorage.getItem("jjddHuatuSettings");if(t){const n=JSON.parse(t);n.apiKey&&(e=n.apiKey,console.log("从 jjddHuatuSettings 获取到API密钥"),localStorage.setItem("jjdd_api_key",e))}}catch(e){console.warn("从设置中获取API密钥失败:",e)}if(!e){const t=localStorage.getItem("jjdd_huatu_api_key");t&&(e=t,console.log("从 jjdd_huatu_api_key 获取到API密钥"),localStorage.setItem("jjdd_api_key",e))}}if(e){f({type:u.SET_API_KEY,payload:e}),g(e);const t=e.substring(0,5)+"..."+e.substring(e.length-5);console.log(`成功加载API密钥: ${t}`)}else console.log("未找到API密钥，需要用户手动设置")}),[]);const g=async e=>{if(!e)return null;f({type:u.UPDATE_STAMINA,payload:{isLoading:!0}});try{const t=await(0,l.nD)(e);if(t.success){const e={used:t.usedStamina,total:t.totalStamina,lastUpdate:t.lastUpdate,isLoading:!1};return f({type:u.UPDATE_STAMINA,payload:e}),e}throw console.error("获取体力信息失败:",t.error),f({type:u.UPDATE_STAMINA,payload:{isLoading:!1}}),new Error(t.error||"获取体力信息失败")}catch(e){throw console.error("获取体力信息时出错:",e),f({type:u.UPDATE_STAMINA,payload:{isLoading:!1}}),e}},h=(0,r.useCallback)(((e,t)=>{f({type:u.SET_MODEL_PARAM,payload:{param:e,value:t}})}),[]),y=(0,r.useCallback)((()=>{f({type:u.TOGGLE_CUSTOM_MODEL})}),[]),v=(0,r.useCallback)((()=>{f({type:u.TOGGLE_ASPECT_RATIO_LOCK})}),[]),w=(0,r.useCallback)((e=>{f({type:u.SET_PROMPT,value:e})}),[]),b=(0,r.useCallback)((e=>{f({type:u.SET_NEGATIVE_PROMPT,value:e})}),[]),S=(0,r.useCallback)((()=>{f({type:u.ADD_LORA})}),[]),_=(0,r.useCallback)(((e,t,n)=>{if("model"===t){const r=(0,a.sS)(n);r.isValid?f({type:u.UPDATE_LORA,index:e,param:t,value:r.value}):""===n.trim()&&f({type:u.UPDATE_LORA,index:e,param:t,value:""})}else if("weight"===t){const r=(0,a.Of)(n);f({type:u.UPDATE_LORA,index:e,param:t,value:r})}else f({type:u.UPDATE_LORA,index:e,param:t,value:n})}),[]),E=(0,r.useCallback)((e=>{f({type:u.REMOVE_LORA,index:e})}),[]),k=(0,r.useCallback)((e=>{if(f({type:u.SET_API_KEY,payload:e}),e){localStorage.setItem("jjdd_api_key",e);try{const t=localStorage.getItem("jjddHuatuSettings");if(t){const n=JSON.parse(t);n.apiKey=e,localStorage.setItem("jjddHuatuSettings",JSON.stringify(n)),console.log("已将API密钥保存到jjddHuatuSettings中")}}catch(e){console.warn("将API密钥保存到jjddHuatuSettings失败:",e)}localStorage.setItem("jjdd_huatu_api_key",e),g(e)}else{localStorage.removeItem("jjdd_api_key"),localStorage.removeItem("jjdd_huatu_api_key");try{const e=localStorage.getItem("jjddHuatuSettings");if(e){const t=JSON.parse(e);t.apiKey="",localStorage.setItem("jjddHuatuSettings",JSON.stringify(t))}}catch(e){console.warn("从设置中删除API密钥失败:",e)}f({type:u.UPDATE_STAMINA,payload:{used:0,total:1e4,lastUpdate:null,isLoading:!1}})}}),[]),T=(0,r.useCallback)((e=>{f({type:u.SET_IMAGE_DISPLAY_MODE,payload:e})}),[]),C=(0,r.useCallback)((e=>{f({type:u.SET_IMAGE_MAX_HEIGHT,payload:e})}),[]),x=(0,r.useCallback)(((e,t)=>{f({type:u.SET_BUTTON_SIZE,width:e,height:t})}),[]),P=(0,r.useCallback)((e=>{f({type:u.SET_GENERATING,payload:e})}),[]),I=(0,r.useCallback)((e=>{f({type:u.SET_ERROR,payload:e})}),[]),A=(0,r.useCallback)((()=>{f({type:u.TOGGLE_UPSCALER})}),[]),L=(0,r.useCallback)(((e,t)=>{f({type:u.SET_UPSCALER_PARAM,param:e,value:t})}),[]),N=(0,r.useCallback)((e=>{f({type:u.SET_ACTIVE_TAB,payload:e})}),[]),j=(0,r.useCallback)((e=>{f({type:u.TOGGLE_SETTINGS,value:e})}),[]),M=(0,r.useCallback)((e=>{f({type:u.SET_ACTIVE_HEADER,payload:e})}),[]),D=(0,r.useCallback)((e=>{const t=n.prompt||"",r=t?`${t}, ${e}`:e;f({type:u.SET_PROMPT,value:r})}),[n.prompt]),O=(0,r.useCallback)((e=>{f({type:u.UPDATE_LORAS,payload:e})}),[]),R=(0,r.useCallback)((e=>{f({type:u.UPDATE_NOTEPAD_ENTRIES,payload:e})}),[]),$=(0,r.useCallback)(((e,t)=>{f({type:u.TOGGLE_UI_STATE,payload:{key:e,value:t}})}),[]),z=(0,r.useCallback)((e=>{f({type:u.TOGGLE_AUTO_FILL_PROMPT,payload:e})}),[]),U=(0,r.useCallback)((()=>{try{const e=(0,o.M5)();return!!e&&(f({type:u.LOAD_SETTINGS,payload:e}),!0)}catch(e){return console.error("加载设置出错:",e),f({type:u.SET_ERROR,payload:"设置加载失败: "+e.message}),!1}}),[]),F={state:n,dispatch:f,actionTypes:u,loras:n.loras||[],setModelParam:h,toggleCustomModel:y,toggleAspectRatioLock:v,setPrompt:w,setNegativePrompt:b,addLora:S,updateLora:_,removeLora:E,setApiKey:k,setImageDisplayMode:T,setImageMaxHeight:C,setButtonSize:x,setGenerating:P,setError:I,updateStaminaInfo:e=>{f({type:u.UPDATE_STAMINA,payload:{...e,lastUpdate:(new Date).toISOString()}})},refreshStamina:async function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||n.apiKey;if(!e){const e=new Error("没有有效的API密钥");throw f({type:u.SET_ERROR,payload:e.message}),e}try{f({type:u.UPDATE_STAMINA,payload:{isLoading:!0}});const t=await(0,l.nD)(e);if(t.success){const e={used:t.usedStamina,total:t.totalStamina,lastUpdate:t.lastUpdate,isLoading:!1};return f({type:u.UPDATE_STAMINA,payload:e}),e}throw new Error(t.error||"获取体力信息失败")}catch(e){throw console.error("刷新体力信息时出错:",e),f({type:u.UPDATE_STAMINA,payload:{isLoading:!1}}),f({type:u.SET_ERROR,payload:"刷新体力信息失败: "+e.message}),e}},toggleUpscaler:A,setUpscalerParam:L,setActiveTab:N,toggleSettings:j,setActiveHeader:M,addToPrompt:D,updateLoras:O,updateNotepadEntries:R,toggleUiState:$,toggleAutoFillPrompt:z,loadSettings:U,openDrawingPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"generate";f({type:u.SET_ACTIVE_TAB,payload:e}),n.apiKey&&g(n.apiKey)},closeDrawingPanel:()=>{f({type:u.TOGGLE_SETTINGS,value:!1})},switchTab:e=>{f({type:u.SET_ACTIVE_TAB,payload:e}),"tips"===e&&n.apiKey&&g(n.apiKey)}};return(0,i.jsx)(d.Provider,{value:F,children:t})}function p(){const e=(0,r.useContext)(d);if(!e)throw new Error("useDrawing must be used within a DrawingProvider");return e}},106:(e,t,n)=>{n.d(t,{B:()=>c,R:()=>u});var r=n(540),o=n(848);const a={entries:[],isLoading:!1,error:null},l={ADD_ENTRY:"ADD_ENTRY",UPDATE_ENTRY:"UPDATE_ENTRY",REMOVE_ENTRY:"REMOVE_ENTRY",SET_LOADING:"SET_LOADING",SET_ERROR:"SET_ERROR",LOAD_ENTRIES:"LOAD_ENTRIES"};function i(e,t){switch(t.type){case l.ADD_ENTRY:return{...e,entries:[...e.entries,{id:Date.now().toString(),category:"",value:"",trigger:"",...t.entry}]};case l.UPDATE_ENTRY:return{...e,entries:e.entries.map((e=>e.id===t.id?{...e,...t.updates}:e))};case l.REMOVE_ENTRY:return{...e,entries:e.entries.filter((e=>e.id!==t.id))};case l.SET_LOADING:return{...e,isLoading:t.value};case l.SET_ERROR:return{...e,error:t.error};case l.LOAD_ENTRIES:return{...e,entries:t.entries||[]};default:return e}}const s=(0,r.createContext)();function u(e){let{children:t}=e;const[n,u]=(0,r.useReducer)(i,a);(0,r.useEffect)((()=>{(()=>{try{u({type:l.SET_LOADING,value:!0});const e=localStorage.getItem("jjddHuatuNotepad");if(e){const t=JSON.parse(e);u({type:l.LOAD_ENTRIES,entries:t})}else{const e=Array(3).fill(null).map(((e,t)=>({id:`default-${t+1}`,category:"类别/说明",value:"",trigger:""})));u({type:l.LOAD_ENTRIES,entries:e})}}catch(e){console.error("Error loading notepad:",e),u({type:l.SET_ERROR,error:e.message})}finally{u({type:l.SET_LOADING,value:!1})}})()}),[]),(0,r.useEffect)((()=>{const e=()=>{try{localStorage.setItem("jjddHuatuNotepad",JSON.stringify(n.entries))}catch(e){console.error("Error saving notepad:",e),u({type:l.SET_ERROR,error:e.message})}};if(n.entries.length>0){const t=setTimeout(e,500);return()=>clearTimeout(t)}}),[n.entries]);return(0,o.jsx)(s.Provider,{value:{...n,addEntry:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u({type:l.ADD_ENTRY,entry:e})},updateEntry:(e,t)=>{u({type:l.UPDATE_ENTRY,id:e,updates:t})},removeEntry:e=>{u({type:l.REMOVE_ENTRY,id:e})}},children:t})}function c(){const e=(0,r.useContext)(s);if(!e)throw new Error("useNotepad must be used within a NotepadProvider");return e}},960:(e,t,n)=>{n.d(t,{A:()=>u});var r=n(540),o=n(169),a=n(172),l=n(692),i=n(791),s=n(932);const u=function(){const{state:e,dispatch:t,actionTypes:n}=(0,o.oi)(),{getDrawingParams:u}=(0,a.A)(),c=(0,r.useCallback)((async()=>{if(!e.isGenerating)try{t({type:n.SET_GENERATING,payload:!0});const r=(0,i.SD)();if(!r)throw new Error("无法获取SillyTavern上下文");console.log("生成前的聊天记录长度:",r.chat.length);const o=u();if(!o.params)throw new Error(o.error||"获取画图参数失败");o.error&&console.warn("画图参数存在问题，但仍将继续: ",o.error);const a=o.params;a.imageDisplayMode=e.imageDisplayMode,a.buttonWidth=e.buttonWidth,a.buttonHeight=e.buttonHeight;const c=await(0,l.r)(a,"",r);if(!c.success)throw new Error(c.error||"生成图像失败");{const o=c.data;if(console.log("图片生成成功, 图片数量:",o.length),"add"===e.imageDisplayMode){console.log("使用添加新消息模式");const t=await(0,i.EB)(r,o,e.prompt);t.success?(console.log(`图片已添加到新消息，消息ID: ${t.messageId}, 索引: ${t.messageIndex}`),(0,s.P0)("图片已生成并添加到新消息 ✓",2e3)):(console.error("添加图片消息失败:",t.error),(0,s.P0)(`添加图片消息失败: ${t.error}`,3e3,!0))}else if("replace"===e.imageDisplayMode){console.log("使用替换当前消息模式");const t=r.chat.length-1;if(t<0)throw new Error("聊天记录为空，无法替换消息");console.log(`替换消息索引: ${t}`);const n=await(0,i.fK)(r,o,t,e.prompt);n.success?(console.log(`图片已替换消息，消息ID: ${n.messageId}, 索引: ${n.messageIndex}`),(0,s.P0)("图片已生成并替换当前消息 ✓",2e3)):(console.error("替换图片消息失败:",n.error),(0,s.P0)(`替换图片消息失败: ${n.error}`,3e3,!0))}else"button"===e.imageDisplayMode&&(console.log("使用按钮模式，但未选择具体按钮"),(0,s.P0)("选择了按钮模式，但没有选择具体按钮 ✓",2e3));t({type:n.TOGGLE_SETTINGS,value:!1})}}catch(e){console.error("生成图像失败:",e),(0,s.P0)(`生成图像失败: ${e.message}`,3e3,!0)}finally{t({type:n.SET_GENERATING,payload:!1})}}),[e,u,n,t]),d=(0,r.useCallback)((async r=>{if(e.isGenerating)return;const o=r.currentTarget,a=o.getAttribute("data-prompt")||"",c=(0,i.LX)(o),d=o.textContent||"";try{o.textContent="画图中...",o.disabled=!0,o.setAttribute("data-generating","true"),t({type:n.SET_GENERATING,payload:!0});const r=(0,i.SD)();if(!r)throw new Error("无法获取SillyTavern上下文");if(console.log("按钮点击 - 消息索引:",c,"聊天记录长度:",r.chat.length),c<0||c>=r.chat.length)throw new Error(`消息索引无效: ${c}`);const d=u();if(!d.params)throw new Error(d.error||"获取画图参数失败");d.error&&console.warn("画图参数存在问题，但仍将继续: ",d.error);const f=d.params;f.imageDisplayMode=e.imageDisplayMode,f.buttonWidth=e.buttonWidth,f.buttonHeight=e.buttonHeight;const p=await(0,l.r)(f,a,r);if(!p.success)throw new Error(p.error||"生成图像失败");{const t=p.data,n=`${e.prompt}, ${a}`.trim();if(console.log("图片生成成功, 图片数量:",t.length),"add"===e.imageDisplayMode){console.log("使用添加新消息模式");const e=await(0,i.EB)(r,t,n);e.success?(console.log(`图片已添加到新消息，消息ID: ${e.messageId}, 索引: ${e.messageIndex}`),(0,s.P0)("图片已生成并添加到新消息 ✓",2e3)):(console.error("添加图片消息失败:",e.error),(0,s.P0)(`添加图片消息失败: ${e.error}`,3e3,!0))}else if("replace"===e.imageDisplayMode){console.log(`使用替换消息模式，替换索引: ${c}`);const e=await(0,i.fK)(r,t,c,n);e.success?(console.log(`图片已替换消息，消息ID: ${e.messageId}, 索引: ${e.messageIndex}`),(0,s.P0)("图片已生成并替换当前消息 ✓",2e3)):(console.error("替换图片消息失败:",e.error),(0,s.P0)(`替换图片消息失败: ${e.error}`,3e3,!0))}else if("button"===e.imageDisplayMode)return console.log("使用按钮背景模式"),await(0,i.Pf)(o,t[0].url,e.buttonWidth,e.buttonHeight),(0,s.P0)("图片已应用到按钮背景 ✓",2e3),o.textContent="",void(o.disabled=!1)}}catch(e){console.error("生成图像失败:",e),(0,s.P0)(`生成图像失败: ${e.message}`,3e3,!0)}finally{"button"===e.imageDisplayMode&&o.style.backgroundImage||(o.textContent=d),o.disabled=!1,o.removeAttribute("data-generating"),t({type:n.SET_GENERATING,payload:!1})}}),[e,u,n,t]);return(0,r.useEffect)((()=>{const e=()=>{const e=document.querySelectorAll(".custom-image-prompt-button, .image-prompt-button");e.forEach((e=>{e.removeEventListener("click",d)})),e.forEach((e=>{e.addEventListener("click",d)})),console.log(`已为${e.length}个画图按钮绑定事件`)};e();const t=(0,i.Px)(e);return()=>{document.querySelectorAll(".custom-image-prompt-button, .image-prompt-button").forEach((e=>{e.removeEventListener("click",d)})),t()}}),[d]),{handleGenerateButtonClick:c,handleCustomButtonClick:d}}},172:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(540),o=n(169),a=n(910);const l=function(){const{state:e,setError:t}=(0,o.oi)(),n=(0,r.useCallback)((()=>{const t={};let n=!0;const r=(0,a.ek)(e.apiKey);r.isValid||(t.apiKey=r.error,n=!1);const o=(0,a._1)(e.model);o.isValid||(t.modelSelection=o.error,n=!1);const l=(0,a.ap)(e.model);if(l.isValid||(t.modelParams=l.errors,n=!1),e.loras&&e.loras.length>0){const n=[];let r=!1;e.loras.forEach(((e,t)=>{const o=(0,a.pf)(e);o.isValid||(n[t]=o.errors,r=!0)})),r&&(t.loras=n,console.log("检测到Lora验证错误，但不影响整体参数有效性"))}return{isValid:n,errors:t}}),[e]),l=(0,r.useCallback)((()=>{const r=n(),o=r.errors.apiKey||r.errors.modelSelection||r.errors.modelParams;if(!r.isValid&&o){const e={};r.errors.apiKey&&(e.apiKey=r.errors.apiKey),r.errors.modelSelection&&(e.modelSelection=r.errors.modelSelection),r.errors.modelParams&&(e.modelParams=r.errors.modelParams);const n=i(e);return t(n),console.error("画图核心参数验证失败:",n),{params:null,error:n}}const{model:a,prompt:l,negativePrompt:s,loras:u,apiKey:c}=e;if(!c||""===c.trim()){const e="请先设置API密钥";return t(e),console.error("API密钥缺失"),{params:null,error:e}}const d={model:a.useCustomModel?a.customModelId:a.selectedModel,prompt:l,negativePrompt:s,width:a.width,height:a.height,count:a.count,steps:a.steps,cfg_scale:a.cfgScale,seed:a.seed,sampler:a.sampler,vae:a.vae,clip_skip:a.clipSkip,jjddApiKey:c};if(u&&u.length>0){const e=u.filter((e=>e&&e.model&&""!==e.model.trim()));e.length>0&&(d.loras=e),console.log(`过滤后的有效Lora数量: ${e.length}`)}if(e.upscaler&&e.upscaler.enabled&&(d.upscaler={enabled:!0,model:e.upscaler.model,resize_x:e.upscaler.resizeX,resize_y:e.upscaler.resizeY,steps:e.upscaler.steps,denoising_strength:e.upscaler.denoisingStrength}),r.errors.loras){const e=i({loras:r.errors.loras});return t(e),console.warn("Lora验证错误，但仍继续生成:",e),{params:d,error:e}}return{params:d,error:null}}),[e,n,t]),i=e=>{const t=[];if(e.apiKey&&t.push(`API密钥错误: ${e.apiKey}`),e.modelSelection&&t.push(`模型选择错误: ${e.modelSelection}`),e.modelParams){const n=Object.entries(e.modelParams).map((e=>{let[t,n]=e;return`${n}`})).join("; ");t.push(`参数错误: ${n}`)}if(e.loras){const n=e.loras.map(((e,t)=>{if(!e)return null;return`Lora ${t+1}: ${Object.values(e).join("; ")}`})).filter(Boolean).join("; ");n&&t.push(`Lora错误: ${n}`)}return t.join("\n")};return{validateAllParams:n,getDrawingParams:l}}},692:(e,t,n)=>{n.d(t,{Ks:()=>s,YP:()=>c,_b:()=>f,qI:()=>d,r:()=>p});var r=n(700),o=n(910),a=n(209);const l={timeout:3e4,retryCount:3,retryDelay:5e3,pollInterval:5e3,maxPollRetries:90},i=new Map,s=()=>{i.forEach(((e,t)=>{console.log(`取消请求: ${t}`),e.abort()})),i.clear()},u=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=l.maxPollRetries,a=l.pollInterval;let i=0,s=!1;const u=()=>{try{const t=localStorage.getItem(c.JOB_ID);return!t||t!==e}catch(e){return!1}},c={JOB_ID:"jjddHuatuLastJobId"};for(;i<o&&!s;){if(s=u(),s)return console.log(`任务 ${e} 已被取消，停止轮询`),{success:!1,canceled:!0,message:"任务已被取消"};const l=Math.min(100,i/(.8*o)*100);n&&"function"==typeof n&&n(l,`图像生成中... ${Math.round(l)}%`);const d=Date.now(),f=i%5==0||i<3;try{f?console.log(`[轮询] 第 ${i+1}/${o} 次轮询任务 ${e}, 时间: ${(new Date).toLocaleTimeString()}, 间隔: ${a}ms`):console.debug(`[轮询] 第 ${i+1}/${o} 次轮询任务 ${e}`);const n=await(0,r.Zq)("/jobResult",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:e,jjddApiKey:t})});if(n.error)throw new Error(n.error);if(n["状态"]){const t=n["状态"].toUpperCase();if(console.log(`任务 ${e} 状态: ${t}`),"SUCCESS"===t)return console.log(`任务 ${n["任务"]} 完成`),{success:!0,data:n.images||[],stamina:{used:Number(n["已用体力"])||0,consumed:Number(n["消耗体力"])||0},task:n["任务"],jobId:e};if("FAILED"===t)throw console.error(`任务 ${n["任务"]} 失败`),new Error(`生成图片任务失败：${n["任务"]||e}`);if("CANCELED"===t||"CANCELLED"===t||t.includes("CANCEL")){console.log(`任务 ${n["任务"]||e} 已取消，状态: ${t}`);try{localStorage.removeItem(c.JOB_ID),console.log("已清除任务ID")}catch(e){console.warn("清除任务ID失败:",e)}return{success:!1,canceled:!0,message:"任务已被取消"}}if("WAITING"===t||"PROCESSING"===t||"PENDING"===t)console.log(`任务 ${n["任务"]||e} 状态: ${t}`);else if(console.warn(`任务 ${n["任务"]||e} 未知状态: ${t}`),t.includes("CANCEL")||t.includes("取消")){console.log(`检测到可能的取消状态: ${t}，停止轮询`);try{localStorage.removeItem(c.JOB_ID),console.log("已清除任务ID")}catch(e){console.warn("清除任务ID失败:",e)}return{success:!1,canceled:!0,message:`任务已被取消 (状态: ${t})`}}}}catch(t){if(s=u(),s)return console.log(`任务 ${e} 已被取消，停止轮询`),{success:!1,canceled:!0,message:"任务已被取消"};if(t.message.includes("CANCEL")||t.message.includes("取消")||t.message.includes("已取消")){console.log(`任务 ${e} 已被取消（从错误消息检测），停止轮询`);try{localStorage.removeItem(c.JOB_ID),console.log("已清除任务ID")}catch(e){console.warn("清除任务ID失败:",e)}return{success:!1,canceled:!0,message:"任务已被取消"}}if(t.message.includes("fetch")||t.message.includes("network"))throw t;console.warn(`轮询任务结果出错 (${i}/${o}):`,t)}i++;const p=Date.now()-d,m=Math.max(0,a-p);f?console.log(`[轮询] 请求耗时: ${p}ms, 等待: ${m}ms, 总间隔: ${p+m}ms`):console.debug(`[轮询] 请求耗时: ${p}ms`),m>0&&i<o&&!s&&await new Promise((e=>setTimeout(e,m)))}if(s)return{success:!1,canceled:!0,message:"任务已被取消"};throw new Error("获取任务结果超时，重试次数过多")},c=async(e,t)=>{if(!e||!t)return!1;try{const n=await(0,r.Zq)("/cancelTask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({job_id:e,jjddApiKey:t})});return n&&!0===n.success}catch(e){return console.error("取消任务失败:",e),!1}},d=async e=>{if(!e)throw new Error("请先设置API密钥");try{const t=await(0,r.Zq)("/get_stamina",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jjddApiKey:e})},{retryCount:2});if(t.error)throw new Error(t.error);if(!t.success)throw new Error(t.message||"获取体力信息失败");return{used:Number(t["已用体力"])||0,total:Number(t["总体力"])||1e4,lastUpdate:t.last_update_time||"",updatedAt:Date.now()}}catch(e){throw console.error("检查体力值出错:",e),e}},f=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(0,o.ek)(e);if(!n.isValid)return{valid:!1,error:n.error};try{const n=t.model||t.sdModel;if(!n)return{valid:!1,error:"请选择一个模型或输入自定义模型ID"};const o={jjddApiKey:e,正提示词:t.prompt||"a beautiful landscape",负提示词:t.negativePrompt||"ugly, deformed",width:parseInt(t.width)||512,height:parseInt(t.height)||512,steps:parseInt(t.steps)||20,cfgScale:parseFloat(t.cfg_scale||t.cfgScale)||7,seed:parseInt(t.seed)||-1,sampler:t.sampler||"Euler",sdVae:t.vae||"None",sdModel:n,count:parseInt(t.count)||1,clipSkip:parseInt(t.clip_skip||t.clipSkip)||1};t.upscaler&&t.upscaler.enabled&&(o["upscaler-switch"]=!0,o.hrUpscaler=t.upscaler.model||"4x-UltraSharp",o.hrResizeX=parseInt(t.upscaler.resize_x||t.upscaler.resizeX)||1024,o.hrResizeY=parseInt(t.upscaler.resize_y||t.upscaler.resizeY)||1024,o.hrSecondPassSteps=parseInt(t.upscaler.steps)||20,o.denoisingStrength=parseFloat(t.upscaler.denoising_strength||t.upscaler.denoisingStrength)||.3),console.log("使用实际参数进行API测试:",o);const a=await(0,r.Zq)("/test_api_key",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)},{retryCount:1});return a.error?{valid:!1,error:a.error}:a.success?{valid:!0,requestId:a.请求ID||"",consumeStamina:a.消耗体力||0,usedStamina:a.已用体力||0,totalStamina:a.总体力||1e4,message:`API密钥有效! 预估消耗体力: ${a.消耗体力||0}`}:{valid:!1,error:a.message||"测试失败"}}catch(e){return console.error("API密钥验证失败:",e),{valid:!1,error:e.message||"验证失败，请检查网络连接或API密钥"}}},p=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{if(console.log("使用参数生成图像:",e),console.log("额外提示词:",t),!e||"object"!=typeof e)throw new Error("无效的参数对象");if(!e.model&&!e.sdModel)throw console.error("缺少模型参数"),new Error("请选择模型");if(!e.jjddApiKey)throw console.error("API密钥缺失，params:",JSON.stringify({hasApiKey:!!e.jjddApiKey,hasModel:!!e.model,paramKeys:Object.keys(e)})),new Error("请先设置API密钥");const n={...e,model:e.model||e.sdModel,cfg_scale:e.cfg_scale||e.cfgScale||7,clip_skip:e.clip_skip||e.clipSkip||1,vae:e.vae||e.sdVae||"ae.sft"};console.log("处理后的参数:",n);const o=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const o=`generate-${Date.now()}`,l=(e,t)=>{n&&"function"==typeof n&&n({taskId:o,progress:e,status:t})};try{if(l(0,"正在验证参数"),!e)throw new Error("参数无效");const n=e.jjddApiKey;if(!n)throw console.error("API密钥缺失，参数键:",Object.keys(e)),new Error("请先设置API密钥");if(!n.startsWith("jjdd-")||n.length<15)throw new Error("API密钥格式不正确!");console.log("API密钥验证通过:",n.substring(0,10)+"***"),l(5,"正在准备参数");const o=e.model;if(!o)throw new Error("请选择一个模型或输入自定义模型ID");console.log("使用模型ID:",o);const i={jjddApiKey:n,seed:e.seed||-1,count:Math.max(1,Math.min(20,parseInt(e.count)||1)),width:parseInt(e.width)||512,height:parseInt(e.height)||512,正提示词:t?`${e.prompt}, ${t}`:e.prompt,负提示词:e.negativePrompt,sdModel:o,sdVae:e.vae||"ae.sft",sampler:e.sampler||"Euler",steps:parseInt(e.steps)||20,cfgScale:parseFloat(e.cfg_scale)||7,clipSkip:parseInt(e.clip_skip)||1};if(e.loras&&Array.isArray(e.loras)&&e.loras.length>0){const t=e.loras.filter((e=>e&&e.model&&""!==e.model.trim()));t.forEach(((e,t)=>{e.model&&(i[`loraModel${t+1}`]=e.model,i[`weight${t+1}`]=parseFloat(e.weight)||.8)})),console.log(`有效Lora数量: ${t.length}`)}e.upscaler&&e.upscaler.enabled&&(i["upscaler-switch"]=!0,i.hrUpscaler=e.upscaler.model||"4x-UltraSharp",i.hrResizeX=parseInt(e.upscaler.resize_x)||1024,i.hrResizeY=parseInt(e.upscaler.resize_y)||1024,i.hrSecondPassSteps=parseInt(e.upscaler.steps)||20,i.denoisingStrength=parseFloat(e.upscaler.denoising_strength)||.3),console.log("实际请求参数:",i),l(10,"正在发送生成请求");const s=await(0,r.Zq)("/generate",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)});if(s.error)throw new Error(s.error);const{job_id:c}=s;console.log(`生成图像任务ID: ${c}`);try{const e=void 0!==window.eventSource&&window.eventSource||void 0!==window.SillyTavern&&window.SillyTavern.eventSource||"function"==typeof window.getContext&&window.getContext().eventSource;if(e&&"function"==typeof e.emit)e.emit("jjdd_huatu_job_started",c),console.log(`成功发送任务开始事件: ${c}`);else{console.warn("eventSource不可用或格式不正确，无法发送任务开始事件");try{(0,a.si)(c),console.log(`已将任务ID保存到localStorage: ${c}`)}catch(e){console.error("保存任务ID到localStorage失败:",e)}}}catch(e){console.warn("无法发送任务开始事件:",e)}l(15,"图像生成中...");const d=await u(c,n,((e,t)=>{l(15+.8*e,t)}));return d.canceled?(console.log(`任务 ${c} 已被取消`),l(100,"任务已取消"),{success:!1,canceled:!0,message:"任务已被取消",jobId:c}):(l(100,"图像生成完成"),d)}catch(e){throw l(-1,`出错: ${e.message}`),e}}(n,t,(e=>{console.log("生成进度:",e)}));if(!o.success)throw new Error(o.error||"图像生成失败");return{success:!0,data:o.data,stamina:o.stamina}}catch(e){return console.error("SillyTavern图像生成失败:",e),{success:!1,error:e.message||"生成失败"}}}},209:(e,t,n)=>{n.d(t,{DZ:()=>i,M5:()=>s,si:()=>u,tr:()=>c});var r=n(706);const o={SETTINGS:"jjddHuatuSettings",NOTEPAD:"jjddHuatuNotepad",JOB_ID:"jjddHuatuLastJobId"},a=e=>{try{return JSON.stringify(e)}catch(e){return console.error("JSON序列化错误:",e),"{}"}},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return t;try{return JSON.parse(e)}catch(e){return console.error("JSON解析错误:",e),t}},i=e=>{try{if(!e||"object"!=typeof e)return console.warn("保存设置失败: 无效的设置对象"),!1;const t={...e};delete t.error,delete t.isGenerating,Array.isArray(t.loras)&&(t.loras=t.loras.filter((e=>{if(!e||"object"!=typeof e||!e.model)return!1;const t=e.model.trim();if(""===t)return!1;return/^\d+$/.test(t)||/^(?:https?:\/\/)?tensor\.art\/models\/(\d+)(?:\/[^\/?#]*)?/.test(t)})).map((e=>{let t=e.model.trim();const n=t.match(/^(?:https?:\/\/)?tensor\.art\/models\/(\d+)(?:\/[^\/?#]*)?/);return n&&(t=n[1]),{model:t,weight:(0,r.Of)(e.weight)}})));const n={model:t.model||{},loras:t.loras||[],prompt:t.prompt||"",negativePrompt:t.negativePrompt||"",apiKey:t.apiKey||"",imageDisplayMode:t.imageDisplayMode||"add",imageMaxHeight:t.imageMaxHeight||"40vh",buttonWidth:t.buttonWidth||100,buttonHeight:t.buttonHeight||100,upscaler:t.upscaler||{},swipe:t.swipe||{},stamina:t.stamina||{used:0,total:1e4},activeHeader:t.activeHeader||"default"};return localStorage.setItem(o.SETTINGS,a(n)),console.log("画图设置已保存",n),n.apiKey&&(localStorage.setItem("jjdd_api_key",n.apiKey),localStorage.setItem("jjdd_huatu_api_key",n.apiKey),console.log("已同步API密钥到所有存储位置")),!0}catch(e){return console.error("保存设置出错:",e),!1}},s=()=>{try{const e=localStorage.getItem(o.SETTINGS),t=l(e,null);if(t&&"object"==typeof t){const e={model:{useCustomModel:!1,selectedModel:"",customModelId:"",width:512,height:512,count:1,steps:20,cfgScale:7,seed:-1,vae:"ae.sft",sampler:"Euler",clipSkip:1},loras:[],prompt:"",negativePrompt:"",apiKey:"",imageDisplayMode:"add",imageMaxHeight:"40vh",buttonWidth:100,buttonHeight:100,upscaler:{enabled:!1,model:"4x-UltraSharp",resizeX:1024,resizeY:1024,steps:20,denoisingStrength:.3},swipe:{timeoutMs:3500,debugMode:!1},stamina:{used:0,total:1e4},activeHeader:"default"};let n=[];Array.isArray(t.loras)&&(n=t.loras.filter((e=>{if(!e||"object"!=typeof e||!e.model)return!1;const t=e.model.trim();if(""===t)return!1;return/^\d+$/.test(t)||/^(?:https?:\/\/)?tensor\.art\/models\/(\d+)(?:\/[^\/?#]*)?/.test(t)})).map((e=>{let t=e.model.trim();const n=t.match(/^(?:https?:\/\/)?tensor\.art\/models\/(\d+)(?:\/[^\/?#]*)?/);return n&&(t=n[1]),{model:t,weight:(0,r.Of)(e.weight)}})));const o={...e,...t,model:{...e.model,...t.model},loras:n,upscaler:{...e.upscaler,...t.upscaler},swipe:{...e.swipe,...t.swipe},stamina:{...e.stamina,...t.stamina||{}}};return console.log("画图设置已加载",o),o}return null}catch(e){return console.error("加载设置出错:",e),null}},u=e=>{try{return null===e?(localStorage.removeItem(o.JOB_ID),console.log("已清除任务ID"),!0):e&&"string"==typeof e?(localStorage.setItem(o.JOB_ID,e),console.log(`已保存任务ID: ${e}`),!0):(console.warn("无效的任务ID:",e),!1)}catch(e){return console.error("保存任务ID出错:",e),!1}},c=()=>{try{return localStorage.getItem(o.JOB_ID)}catch(e){return console.error("获取任务ID出错:",e),null}}},700:(e,t,n)=>{n.d(t,{Zq:()=>l,nD:()=>i});var r=n(932);const o="http://localhost:1314",a=3e4,l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:n="GET",headers:l={},body:i=null,showErrors:s=!0,apiKey:u=null,timeout:c=a}=t;try{const t={...l};u&&(t.Authorization=`Bearer ${u}`);let r=i;if(i&&"object"==typeof i){try{r=JSON.stringify(i),console.log("序列化请求体:",r)}catch(e){throw console.error("序列化请求体时出错:",e,i),new Error(`序列化请求体失败: ${e.message}`)}t["Content-Type"]||(t["Content-Type"]="application/json")}const a=new AbortController,s=setTimeout((()=>a.abort()),c),d=e.startsWith("/")?e:`/${e}`,f=d.includes(o)?d:`${o}${d}`;console.log("发送API请求:",f);const p=await fetch(f,{method:n,headers:t,body:r,signal:a.signal});if(clearTimeout(s),!p.ok)throw new Error(`API请求失败: ${p.status} ${p.statusText}`);return await p.json()}catch(e){if("AbortError"===e.name){const e="请求执行中，请耐心等待...";throw s&&(0,r.P0)(e,3e3,!0),new Error(e)}const t=`API请求错误: ${e.message}`;throw s&&(0,r.P0)(t,3e3,!0),e}},i=async e=>{if(!e)throw new Error("API密钥不能为空");try{const t=await l("/get_stamina",{method:"POST",headers:{"Content-Type":"application/json"},body:{jjddApiKey:e},showErrors:!1});return t.success?{success:!0,totalStamina:t.总体力||1e4,usedStamina:t.已用体力||0,lastUpdate:t.last_update_time||"未知"}:{success:!1,error:t.error||"获取体力信息失败"}}catch(e){return console.error("获取体力信息失败:",e),{success:!1,error:e.message}}}},685:(e,t,n)=>{n.d(t,{K:()=>s,i:()=>i});var r=n(932),o=n(209),a=n(692);let l=!1;async function i(){if(l)return(0,r.P0)("正在取消任务，请稍候...",2e3,!0),"正在取消任务，请稍候...";try{l=!0;let e=localStorage.getItem("jjdd_api_key");if(e||(e=localStorage.getItem("jjddHuatuApiKey")),!e)return l=!1,(0,r.P0)("请先设置API密钥",3e3,!0),"请先设置API密钥";if(!e.startsWith("jjdd-")||e.length<15)return l=!1,(0,r.P0)("API密钥格式不正确",3e3,!0),"API密钥格式不正确";const t=(0,o.tr)();if(!t)return l=!1,(0,r.P0)("没有找到正在进行的画图任务",3e3,!0),"没有找到正在进行的画图任务";(0,r.P0)("正在尝试取消画图任务...",2e3);const n=await(0,a.YP)(t,e);if(l=!1,n){(0,o.si)(null);try{localStorage.removeItem("jjddHuatuLastJobId"),console.log("直接从 localStorage 清除任务ID")}catch(e){console.warn("直接清除任务ID失败:",e)}(0,a.Ks)();try{const e=void 0!==window.eventSource&&window.eventSource||void 0!==window.SillyTavern&&window.SillyTavern.eventSource||"function"==typeof window.getContext&&window.getContext().eventSource;e&&"function"==typeof e.emit&&(e.emit("jjdd_huatu_job_canceled",t),console.log(`成功发送任务取消事件: ${t}`))}catch(e){console.warn("发送取消事件失败:",e)}return(0,r.P0)("画图任务已取消",3e3,!1),console.log("取消成功, 任务ID:",t),"画图任务已取消"}{const e="取消任务失败，可能任务已完成或不存在";return(0,r.P0)(e,3e3,!0),console.error("取消失败，任务ID:",t),e}}catch(e){l=!1,console.error("取消画图任务时出错:",e);const t=`取消画图任务时出错: ${e.message}`;return(0,r.P0)(t,3e3,!0),t}}function s(){try{let e=null;if(void 0!==window.eventSource&&window.eventSource)e=window.eventSource,console.log("从全局window.eventSource获取事件系统");else if(void 0!==window.SillyTavern&&window.SillyTavern.eventSource)e=window.SillyTavern.eventSource,console.log("从SillyTavern对象获取事件系统");else if("function"==typeof window.getContext){const t=window.getContext();t&&t.eventSource&&(e=t.eventSource,console.log("从getContext()获取事件系统"))}else if(void 0!==window.SillyTavern&&"function"==typeof window.SillyTavern.getContext){const t=window.SillyTavern.getContext();t&&t.eventSource&&(e=t.eventSource,console.log("从SillyTavern.getContext()获取事件系统"))}return e&&"function"==typeof e.on?("function"==typeof e.removeListener&&e.removeListener("jjdd_huatu_job_started",window._jjddJobStartedListener),window._jjddJobStartedListener=e=>{e&&(console.log(`监听到新的画图任务开始: ${e}`),(0,o.si)(e))},e.on("jjdd_huatu_job_started",window._jjddJobStartedListener),console.log("已成功设置画图任务开始监听器"),"function"==typeof e.removeListener&&e.removeListener("jjdd_huatu_job_canceled",window._jjddJobCanceledListener),window._jjddJobCanceledListener=e=>{if(e){console.log(`监听到画图任务取消: ${e}`),(0,o.si)(null);try{localStorage.removeItem("jjddHuatuLastJobId")}catch(e){console.warn("清除任务ID失败:",e)}}},e.on("jjdd_huatu_job_canceled",window._jjddJobCanceledListener),console.log("已成功设置画图任务取消监听器"),setTimeout((()=>{try{"function"==typeof e.emit&&(console.log("测试事件系统连接..."),e.emit("jjdd_huatu_test_event",{test:!0}))}catch(e){console.warn("测试事件系统时出错:",e)}}),1e3),!0):(console.warn("eventSource不可用或格式不正确，无法设置任务ID监听器"),console.log("当前可用的全局对象:",Object.keys(window).filter((e=>e.includes("event")||e.includes("Event")||e.includes("silly")||e.includes("Silly")||e.includes("tavern")||e.includes("Tavern"))).join(", ")),window.addEventListener("storage",(e=>{"jjddHuatuLastJobId"===e.key&&e.newValue&&console.log(`从本地存储检测到新的任务ID: ${e.newValue}`)})),!1)}catch(e){return console.error("设置任务ID监听器失败:",e),!1}}},428:(e,t,n)=>{n.r(t),n.d(t,{addButtonsToImageContainer:()=>v,default:()=>k,extractPromptFromMessage:()=>p,handleCancelTaskClick:()=>y,handleGenerateMoreClick:()=>m,handleOpenSettingsClick:()=>g,handleTestApiClick:()=>h,initializeImageMoreButtons:()=>_,isJjddHuatuImage:()=>w,processNewMessage:()=>b,scanAllMessages:()=>S,setupImageContainerHoverListeners:()=>E});var r=n(932),o=n(791),a=n(692),l=n(706),i=n(582),s=n(685);const u=new Set,c="\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  pointer-events: none;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n  z-index: 10;\n",d="\n  background-color: rgba(60, 60, 60, 0.1);\n  color: white;\n  border: none;\n  border-radius: 10px;\n  padding: 5px 5px;\n  cursor: pointer;\n  font-size: 30px;\n  transition: background-color 0.3s ease;\n  position: absolute;\n  pointer-events: auto;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n",f="\n  background-color: rgba(100, 100, 100, 0.9);\n";function p(e){try{const t=(0,o.LX)(e),n=(0,o.SD)();if(n&&t>=0&&t<n.chat.length){const e=n.chat[t];if(e&&e.extra&&e.extra.title){const t=e.extra.title.match(/提示词:\s*(.*?)(?:\n|$)/);if(t&&t[1])return t[1].trim()}}const r=e.querySelector(".mes_img");if(r&&r.title){const e=r.title.match(/提示词:\s*(.*?)(?:\n|$)/);if(e&&e[1])return e[1].trim()}return""}catch(e){return console.error("提取提示词失败:",e),""}}function m(e){try{const t=e.currentTarget,n=t.closest(".mes_img_container").closest(".mes"),s=(0,o.LX)(n);if(-1===s)throw new Error("无法获取消息ID");const u=(0,o.SD)();if(!u)throw new Error("无法获取SillyTavern上下文");const c=p(n);if(!c)return console.warn("未找到提示词，无法生成更多图片"),void(0,r.P0)("未找到提示词，无法生成更多图片",3e3,!0);t.disabled=!0,t.textContent="生成中...",(0,r.P0)("正在生成更多图片...",2e3),(async()=>{try{const e=(0,l.gi)();if(!e){const e="未找到画图参数，请先在画图设置中配置参数";throw console.warn(e),(0,r.P0)(e,3e3,!0),new Error(e)}if(!e.jjddApiKey){const e="未找到API密钥，请先在画图设置中配置API密钥";throw console.warn(e),(0,r.P0)(e,3e3,!0),new Error(e)}e.prompt=c,console.log("使用存储的画图参数生成图片:",e);const t=e.jjddApiKey.substring(0,5)+"..."+e.jjddApiKey.substring(e.jjddApiKey.length-5);console.log(`成功获取到API密钥: ${t}`),console.log("使用提示词生成更多图片:",c);const n=await(0,a.r)(e,c,u);if(n.success){const e=await(0,o.hw)(u,n.data,s,c);e.success?(console.log(`新图片已添加到滑动序列，原始数量: ${e.originalCount}, 新数量: ${e.newCount}`),(0,r.P0)(`已生成并添加${n.data.length}张新图片 ✓`,2e3),i.A.forceUpdate(),setTimeout((()=>{S(!0)}),500)):(console.error("添加图片到滑动序列失败:",e.error),(0,r.P0)(`添加图片失败: ${e.error}`,3e3,!0))}else console.error("生成图片失败:",n.error),(0,r.P0)(`生成图片失败: ${n.error}`,3e3,!0)}catch(e){console.error("生成并添加图片失败:",e),(0,r.P0)(`生成并添加图片失败: ${e.message}`,3e3,!0)}finally{t.disabled=!1,t.textContent="🎲"}})()}catch(t){console.error("生成更多图片失败:",t),(0,r.P0)(`生成更多图片失败: ${t.message}`,3e3,!0);const n=e.currentTarget;n&&(n.disabled=!1,n.textContent="🎲")}}function g(e){try{const t=e.currentTarget.closest(".mes_img_container"),n=p(t.closest(".mes"));let r=!1;if("undefined"!=typeof localStorage)try{const e=localStorage.getItem("jjddHuatuSettings");if(e){r=!1!==JSON.parse(e).autoFillPrompt}}catch(e){console.warn("从存储中获取自动填充设置失败:",e),r=!0}console.log("打开画图设置面板，提示词:",n,"自动填充:",r);const o=new CustomEvent("jjdd_huatu_generate",{detail:{prompt:r?n:"",originalPrompt:n}});document.dispatchEvent(o)}catch(e){console.error("打开画图设置面板失败:",e),(0,r.P0)(`打开画图设置面板失败: ${e.message}`,3e3,!0)}}function h(e){try{const t=e.currentTarget;t.disabled=!0;const n=t.textContent;t.textContent="测试中...",(0,r.P0)("正在测试API密钥...",2e3),(async()=>{try{const e=(0,l.gi)();if(!e){const e="未找到画图参数，请先在画图设置中配置参数";throw console.warn(e),(0,r.P0)(e,3e3,!0),new Error(e)}if(!e.jjddApiKey){const e="未找到API密钥，请先在画图设置中配置API密钥";throw console.warn(e),(0,r.P0)(e,3e3,!0),new Error(e)}const t=await(0,a._b)(e.jjddApiKey,e);t.valid?(console.log("测试API密钥成功:",t),(0,r.P0)(`API密钥有效 ✓ 体力: ${t.usedStamina}/${t.totalStamina} 预估消耗: ${t.consumeStamina}`,3e3)):(console.error("测试API密钥失败:",t.error),(0,r.P0)(`测试API密钥失败: ${t.error}`,3e3,!0))}catch(e){console.error("测试API密钥失败:",e),(0,r.P0)(`测试API密钥失败: ${e.message}`,3e3,!0)}finally{t.disabled=!1,t.textContent=n}})()}catch(t){console.error("测试API密钥失败:",t),(0,r.P0)(`测试API密钥失败: ${t.message}`,3e3,!0);const n=e.currentTarget;n&&(n.disabled=!1,n.textContent="🔑")}}function y(e){try{const t=e.currentTarget;t.disabled=!0;const n=t.textContent;t.textContent="取消中...",(0,r.P0)("正在取消画图任务...",2e3),(async()=>{try{const e=await(0,s.i)();console.log("取消任务结果:",e),(0,r.P0)(e,3e3)}catch(e){console.error("取消任务失败:",e),(0,r.P0)(`取消任务失败: ${e.message}`,3e3,!0)}finally{t.disabled=!1,t.textContent=n}})()}catch(t){console.error("取消任务失败:",t),(0,r.P0)(`取消任务失败: ${t.message}`,3e3,!0);const n=e.currentTarget;n&&(n.disabled=!1,n.textContent="✂️")}}function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{if(e.querySelector(".jjdd-huatu-more-buttons-container"))return!1;const r=(0,o.LX)(t);if(-1===r||!n&&u.has(r))return!1;console.log(`为消息ID ${r} 添加"生成更多"和"画图设置"按钮`);const a=document.createElement("div");a.className="jjdd-huatu-more-buttons-container",a.style.cssText=c;const l=document.createElement("button");l.className="jjdd-huatu-open-settings-button",l.textContent="💻",l.title="画图设置",l.style.cssText=d+"top: 35%; left: 10px;",l.addEventListener("click",g);const i=document.createElement("button");i.className="jjdd-huatu-generate-more-button",i.textContent="🎲",i.title="生成更多",i.style.cssText=d+"top: 35%; right: 10px;",i.addEventListener("click",m);const s=document.createElement("button");s.className="jjdd-huatu-test-api-button",s.textContent="🔑",s.title="测试API",s.style.cssText=d+"top: 65%; left: 10px;",s.addEventListener("click",h);const p=document.createElement("button");return p.className="jjdd-huatu-cancel-task-button",p.textContent="✂️",p.title="取消任务",p.style.cssText=d+"top: 65%; right: 10px;",p.addEventListener("click",y),a.appendChild(l),a.appendChild(i),a.appendChild(s),a.appendChild(p),e.appendChild(a),e.addEventListener("mouseenter",(()=>{a.style.opacity="1"})),e.addEventListener("mouseleave",(()=>{a.style.opacity="0"})),l.addEventListener("mouseenter",(()=>{l.style.cssText=d+f+"top: 35%; left: 10px;"})),l.addEventListener("mouseleave",(()=>{l.style.cssText=d+"top: 35%; left: 10px;"})),i.addEventListener("mouseenter",(()=>{i.style.cssText=d+f+"top: 35%; right: 10px;"})),i.addEventListener("mouseleave",(()=>{i.style.cssText=d+"top: 35%; right: 10px;"})),s.addEventListener("mouseenter",(()=>{s.style.cssText=d+f+"top: 65%; left: 10px;"})),s.addEventListener("mouseleave",(()=>{s.style.cssText=d+"top: 65%; left: 10px;"})),p.addEventListener("mouseenter",(()=>{p.style.cssText=d+f+"top: 65%; right: 10px;"})),p.addEventListener("mouseleave",(()=>{p.style.cssText=d+"top: 65%; right: 10px;"})),u.add(r),!0}catch(e){return console.error("添加按钮失败:",e),!1}}function w(e,t){try{const n=e.querySelector(".mes_img");if(n&&n.title){if(n.title.includes("提示词:"))return!0;if(n.title.includes("jjdd-huatu")||n.title.includes("jjdd_huatu")||n.title.includes("画图")||n.title.includes("SD")||n.title.includes("Stable Diffusion"))return!0}const r=(0,o.LX)(t),a=(0,o.SD)();if(a&&r>=0&&r<a.chat.length){const e=a.chat[r];if(e&&e.extra&&e.extra.title){if(e.extra.title.includes("提示词:"))return!0;if(e.extra.title.includes("jjdd-huatu")||e.extra.title.includes("jjdd_huatu")||e.extra.title.includes("画图")||e.extra.title.includes("SD")||e.extra.title.includes("Stable Diffusion"))return!0}if(e&&e.extra&&Array.isArray(e.extra.image_swipes)&&e.extra.image_swipes.length>0)return!0}if(e.querySelector(".mes_img_swipe_indicator, .mes_img_swipe_counter"))return!0;if(e.classList.contains("img_swipes")||e.classList.contains("img_extra"))return!0;const l=e.querySelector("img.mes_img");if(l&&l.src){const t=l.src.toLowerCase();if(t.includes("jjdd")||t.includes("huatu")||t.includes("sd_")||t.includes("stable_diffusion")||t.includes("generated"))return!0;if(t.startsWith("data:image/")&&e.querySelector(".mes_img_swipe_indicator"))return!0}return!1}catch(e){return console.error("检查图片来源失败:",e),!1}}function b(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{e.querySelectorAll(".mes_img_container").forEach((n=>{w(n,e)&&v(n,e,t)}))}catch(e){console.error("处理新消息失败:",e)}}function S(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];try{const t=document.getElementById("chat");if(!t)return void console.warn("未找到聊天容器，无法扫描消息");const n=t.querySelectorAll(".mes");let r=0;n.forEach((t=>{t.querySelectorAll(".mes_img_container").forEach((n=>{w(n,t)&&v(n,t,e)&&r++}))}))}catch(e){console.error("扫描消息失败:",e)}}function _(){try{const e=document.getElementById("chat");if(!e)return void console.warn("未找到聊天容器，无法初始化图片按钮功能");S();const t=new MutationObserver((e=>{e.forEach((e=>{"childList"===e.type&&e.addedNodes.length>0&&e.addedNodes.forEach((e=>{if(e instanceof HTMLElement)if(e.classList&&e.classList.contains("mes"))b(e,!1);else{e.querySelectorAll(".mes").forEach((e=>b(e,!1)))}}))}))}));t.observe(e,{childList:!0,subtree:!0});const n=setInterval(S,1e4);return E(),"undefined"!=typeof window&&(window.jjddHuatuScanAllImages=function(){return S(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]),"扫描完成"}),()=>{t.disconnect(),clearInterval(n),"undefined"!=typeof window&&delete window.jjddHuatuScanAllImages}}catch(e){console.error("初始化图片按钮功能失败:",e)}}function E(){try{const e=window.jQuery||window.$;return e?(e(document).off("mouseenter",".mes_img_container"),e(document).off("mouseleave",".mes_img_container"),e(document).on("mouseenter",".mes_img_container",(function(){const t=e(this).find(".jjdd-huatu-more-buttons-container");if(t.length)t.css("opacity","1");else{const t=e(this).closest(".mes")[0];if(t&&w(this,t)){v(this,t,!0);const n=e(this).find(".jjdd-huatu-more-buttons-container");n.length&&n.css("opacity","1")}}})),e(document).on("mouseleave",".mes_img_container",(function(){const t=e(this).find(".jjdd-huatu-more-buttons-container");t.length&&t.css("opacity","0")})),!0):(console.warn("设置鼠标悬停监听器失败: jQuery不可用"),!1)}catch(e){return console.error("设置图片容器鼠标悬停监听器失败:",e),!1}}const k={addButtonsToImageContainer:v,isJjddHuatuImage:w,scanAllMessages:S,initializeImageMoreButtons:_,setupImageContainerHoverListeners:E,processNewMessage:b,extractPromptFromMessage:p,handleGenerateMoreClick:m,handleOpenSettingsClick:g,handleTestApiClick:h,handleCancelTaskClick:y}},706:(e,t,n)=>{n.d(t,{Of:()=>u,P0:()=>l,UM:()=>i,gi:()=>f,n8:()=>s,ov:()=>c,rL:()=>o,sS:()=>a});const r={MODEL_ID:/^\d+$/,TENSOR_ART_URL:/^(?:https?:\/\/)?tensor\.art\/models\/(\d+)(?:\/[^\/?#]*)?/,LORA_ID:/^[a-zA-Z0-9_-]+$/,TENSOR_ART_LORA_URL:/^(?:https?:\/\/)?tensor\.art\/loras\/([a-zA-Z0-9_-]+)(?:\/[^\/?#]*)?/,NUMERIC:/^\d+$/},o=e=>{const t=e.trim();if(""===t)return{value:"",isValid:!0};if(r.MODEL_ID.test(t))return{value:t,isValid:!0};const n=t.match(r.TENSOR_ART_URL);return n?{value:n[1],isValid:!0}:{value:t,isValid:!1}},a=e=>{if(console.log("processLoraInput被调用",{value:e}),null==e)return console.log("processLoraInput: 输入为null或undefined"),{value:"",isValid:!1};const t=String(e).trim();if(console.log("processLoraInput: 处理后的值",{trimmedValue:t}),""===t)return console.log("processLoraInput: 空值处理"),{value:"",isValid:!0};if(r.MODEL_ID.test(t))return console.log("processLoraInput: 匹配纯数字ID",{id:t}),{value:t,isValid:!0};if(t.includes("tensor.art/models/")){console.log("processLoraInput: 检测到tensor.art链接");try{const e=/tensor\.art\/models\/(\d+)/i.exec(t);if(e&&e[1])return console.log("processLoraInput: 简单提取成功",{id:e[1]}),{value:e[1],isValid:!0};const n=t.match(r.TENSOR_ART_URL);if(n&&n[1])return console.log("processLoraInput: 标准URL匹配成功",{id:n[1]}),{value:n[1],isValid:!0};console.log("processLoraInput: URL匹配失败")}catch(e){console.error("URL处理出错:",e,"URL:",t)}}return console.log("processLoraInput: 未能匹配任何模式",{value:t}),{value:t,isValid:!1}},l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.getElementById("jjdd-huatu-toast");r||(r=document.createElement("div"),r.id="jjdd-huatu-toast",r.className="jjdd-huatu-toast",document.body.appendChild(r)),r.textContent=e,r.className="jjdd-huatu-toast "+(n?"error":"success"),setTimeout((()=>{r.classList.add("show")}),10),clearTimeout(r.hideTimeout),r.hideTimeout=setTimeout((()=>{r.classList.remove("show")}),t)},i=(e,t)=>{e&&(e.classList.add("input-error"),l(t,3e3,!0),setTimeout((()=>{e.classList.remove("input-error")}),2e3))},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"numeric",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{min:r=Number.MIN_SAFE_INTEGER,max:o=Number.MAX_SAFE_INTEGER,allowEmpty:a=!1,defaultValue:l="",pattern:i=null,patternErrorMsg:s="",processFunc:u=null}=n;if(!e&&0!==e)return a?{value:"",isValid:!0}:{value:l,isValid:!1,error:"值不能为空"};if("numeric"===t){if("-1"===e&&r<=-1)return{value:-1,isValid:!0};const t=e.toString().replace(/^-/,"").replace(/[^\d.]/g,"").replace(/^-/,"");let n=parseFloat((e.startsWith("-")?"-":"")+t);return isNaN(n)?{value:e,isValid:!1,error:"请输入有效的数字"}:n<r||n>o?{value:n,isValid:!1,error:`值必须在${r}到${o}之间`}:{value:n,isValid:!0}}if(i&&!i.test(e))return{value:e,isValid:!1,error:s||"输入格式不正确"};return{value:u?u(e):e,isValid:!0}},u=e=>{if(null==e)return 1;try{let t;if("string"==typeof e)try{const n=e.replace(/[^\d.-]/g,"");t=parseFloat(n)}catch(e){return console.warn("权重字符串解析出错:",e),1}else try{t=parseFloat(e)}catch(e){return console.warn("权重数值转换出错:",e),1}return isNaN(t)?1:Math.max(0,Math.min(2,t))}catch(e){return console.error("处理Lora权重时出错:",e),1}},c=e=>{if(!e||0===e.length)return{valid:!0,errors:[]};const t=[];return e.forEach(((e,n)=>{const r=((e,t)=>{if(!e.model||""===e.model.trim())return{valid:!1,error:{index:t,type:"empty_model",message:`第${t+1}个Lora模型名称不能为空`}};const n=parseFloat(e.weight);return isNaN(n)||n<0||n>2?{valid:!1,error:{index:t,type:"invalid_weight",message:`第${t+1}个Lora权重必须在0-2之间`}}:{valid:!0}})(e,n);r.valid||t.push(r.error)})),{valid:0===t.length,errors:t}},d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3e3,o=document.querySelector(".toast-container");o||(o=document.createElement("div"),o.className="toast-container",document.body.appendChild(o));const a=document.createElement("div");a.className=`toast toast-${n}`;const l=document.createElement("div");l.className="toast-title",l.textContent=e;const i=document.createElement("div");return i.className="toast-message",i.textContent=t,a.append(l,i),o.appendChild(a),setTimeout((()=>{a.classList.add("toast-hiding"),setTimeout((()=>{a.remove()}),300)}),r),a},f=()=>{try{const e=localStorage.getItem("jjddHuatuSettings");if(!e)return console.warn("未找到画图设置"),null;const t=JSON.parse(e);if(!t)return console.warn("解析画图设置失败"),null;let n=t.apiKey;if(n||(n=localStorage.getItem("jjdd_api_key")||localStorage.getItem("jjdd_huatu_api_key")),!n)return console.warn("未找到API密钥"),null;const r={sdModel:t.model?.useCustomModel?t.model?.customModelId:t.model?.selectedModel,prompt:t.prompt||"",negativePrompt:t.negativePrompt||"",width:t.model?.width||512,height:t.model?.height||512,count:t.model?.count||1,steps:t.model?.steps||20,cfgScale:t.model?.cfgScale||7,seed:t.model?.seed||-1,sampler:t.model?.sampler||"Euler",sdVae:t.model?.vae||"ae.sft",clipSkip:t.model?.clipSkip||1,jjddApiKey:n};if(t.loras&&t.loras.length>0){const e=t.loras.filter((e=>e&&e.model&&""!==e.model.trim()));e.length>0&&(r.loras=e)}return t.upscaler&&t.upscaler.enabled&&(r.upscaler={enabled:!0,model:t.upscaler.model||"4x-UltraSharp",resize_x:t.upscaler.resizeX||1024,resize_y:t.upscaler.resizeY||1024,steps:t.upscaler.steps||20,denoising_strength:t.upscaler.denoisingStrength||.3}),console.log("从存储中获取到画图参数:",r),r}catch(e){return console.error("从存储中获取画图参数失败:",e),null}};"undefined"!=typeof window&&(window.showToast=l,window.showInputError=i,window.showNotification=d,window.getDrawingParamsFromStorage=f)},582:(e,t,n)=>{n.d(t,{A:()=>r});const r=(()=>{const e=window.SillyTavern||{},t={getContext:()=>"function"==typeof e.getContext?e.getContext():"function"==typeof window.getContext?window.getContext():(console.warn("无法获取SillyTavern上下文"),null),updateMessageBlock:async(e,n)=>{const r=t.getContext();if(r&&"function"==typeof r.updateMessageBlock)return await r.updateMessageBlock(e,n);if("function"==typeof window.updateMessageBlock)return await window.updateMessageBlock(e,n);try{const r=window.jQuery||window.$;if(r){const o=r(`#chat [mesid="${e}"]`);if(o.length){const e=n?.extra?.display_text??n.mes;return o.find(".mes_text").html(e),t.appendMediaToMessage(n,o,!1),!0}}}catch(e){console.error("使用jQuery更新DOM失败:",e)}return console.warn("无法更新消息块"),!1},appendMediaToMessage:function(t,r){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"==typeof e.appendMediaToMessage){const a=e.appendMediaToMessage(t,r,o);try{setTimeout((()=>{const e=window.jQuery||window.$;if(e){const t=e(r),o=t.find(".mes_img_container");Promise.resolve().then(n.bind(n,428)).then((e=>{let{addButtonsToImageContainer:n,isJjddHuatuImage:r}=e;o.each((function(){r(this,t[0])&&n(this,t[0],!0)}))})).catch((e=>{console.error("导入imageMoreButtons模块失败:",e)}))}}),100)}catch(e){console.error("添加按钮失败:",e)}return a}if("function"==typeof window.appendMediaToMessage){const e=window.appendMediaToMessage(t,r,o);try{setTimeout((()=>{const e=window.jQuery||window.$;if(e){const t=e(r),o=t.find(".mes_img_container");Promise.resolve().then(n.bind(n,428)).then((e=>{let{addButtonsToImageContainer:n,isJjddHuatuImage:r}=e;o.each((function(){r(this,t[0])&&n(this,t[0],!0)}))})).catch((e=>{console.error("导入imageMoreButtons模块失败:",e)}))}}),100)}catch(e){console.error("添加按钮失败:",e)}return e}try{const e=window.jQuery||window.$;if(e&&t.extra?.image){console.log("手动更新图片: 开始处理");const a=e(r);let l=a.find(".mes_block");if(!l.length)return console.warn("未找到.mes_block元素，无法添加图片"),!1;let i=a.find(".mes_img_container"),s=!1;if(i.length)console.log("使用现有的图片容器");else{console.log("创建新的图片容器"),i=e('<div class="mes_img_container"></div>'),s=!0;const t=l.find(".mes_text");t.length?(console.log("将图片容器插入到消息文本元素之前"),t.before(i)):(console.log("将图片容器添加到消息块的开头"),l.prepend(i))}let u=i.find(".mes_img");u.length?(console.log("使用现有的图片元素"),u.addClass("img_inline")):(console.log("创建新的图片元素"),u=e('<img class="mes_img img_inline" />'),i.append(u)),console.log("设置图片属性: "+t.extra.image),u.on("load",(function(){console.log("图片加载成功，触发重新布局"),window.dispatchEvent(new Event("resize"))})),u.on("error",(function(){console.error("图片加载失败: "+t.extra.image)}));const c=Date.now();if(u.attr("src",t.extra.image+"?t="+c),u.attr("title",t.extra.title||""),Array.isArray(t.extra.image_swipes)&&t.extra.image_swipes.length>1){console.log("处理滑动图片，总数: "+t.extra.image_swipes.length),i.addClass("img_extra img_swipes");let n=i.find(".mes_img_swipe_counter");if(n.length||(console.log("创建新的计数器"),n=e('<div class="mes_img_swipe_counter"></div>'),i.append(n)),n.text(`1/${t.extra.image_swipes.length}`),i.find(".mes_img_swipe_left").length||(console.log("添加左滑动按钮"),i.append('<div class="mes_img_swipe_left"><i class="fa-solid fa-chevron-left"></i></div>')),i.find(".mes_img_swipe_right").length||(console.log("添加右滑动按钮"),i.append('<div class="mes_img_swipe_right"><i class="fa-solid fa-chevron-right"></i></div>')),void 0!==window.eventSource&&"function"==typeof window.eventSource.emit){const e=window.event_types||{IMAGE_SWIPED:"IMAGE_SWIPED"};i.find(".mes_img_swipe_left").off("click").on("click",(function(){console.log("左滑按钮点击"),window.eventSource.emit(e.IMAGE_SWIPED,{message:t,element:a,direction:"left"})})),i.find(".mes_img_swipe_right").off("click").on("click",(function(){console.log("右滑按钮点击"),window.eventSource.emit(e.IMAGE_SWIPED,{message:t,element:a,direction:"right"})})),console.log("滑动按钮事件已重新绑定")}else console.warn("无法重新绑定滑动按钮事件: eventSource不可用")}else i.addClass("img_extra");return setTimeout((()=>{if(window.dispatchEvent(new Event("resize")),o){const e=document.getElementById("chat");e&&(e.scrollTop=e.scrollHeight)}try{Promise.resolve().then(n.bind(n,428)).then((e=>{let{addButtonsToImageContainer:t,isJjddHuatuImage:n}=e;a.find(".mes_img_container").each((function(){n(this,a[0])&&t(this,a[0],!0)}))})).catch((e=>{console.error("导入imageMoreButtons模块失败:",e)}))}catch(e){console.error("添加按钮失败:",e)}}),100),!0}}catch(e){console.error("手动更新图片失败:",e)}return console.warn("无法添加媒体到消息"),!1},saveChat:async()=>{const e=t.getContext();return e&&"function"==typeof e.saveChat?await e.saveChat():"function"==typeof window.saveChatConditional?await window.saveChatConditional():(console.warn("无法保存聊天记录"),!1)},forceUpdate:()=>{try{console.log("强制更新DOM: 开始处理"),window.dispatchEvent(new Event("resize")),console.log("已触发resize事件");const e=window.jQuery||window.$;if(e){e("#chat").find(".mes_img").trigger("load"),console.log("已触发所有图片的load事件"),"function"==typeof window.eventSource?.emit&&(window.eventSource.emit("chatUpdated"),console.log("已触发chatUpdated事件")),e("#chat").find(".mes").each((function(){e(this).css("opacity","0.99").animate({opacity:"1"},10)})),console.log("已强制重绘所有消息容器"),e("#chat").find(".mes_img_container").each((function(){e(this).css("opacity","0.99").animate({opacity:"1"},10)})),console.log("已强制重绘所有图片容器");try{setTimeout((()=>{Promise.resolve().then(n.bind(n,428)).then((e=>{let{scanAllMessages:t}=e;t(!0)})).catch((e=>{console.error("导入imageMoreButtons模块失败:",e)}))}),200)}catch(e){console.error("添加按钮失败:",e)}}return setTimeout((()=>{window.dispatchEvent(new Event("resize")),console.log("已延迟触发第二次resize事件")}),100),!0}catch(e){return console.error("强制更新DOM失败:",e),!1}}};return t})()},791:(e,t,n)=>{n.d(t,{hw:()=>i,EB:()=>u,Pf:()=>d,SD:()=>l,LX:()=>s,Px:()=>f,fK:()=>c});var r=n(582);const o=(e,t)=>{try{console.log("重新绑定滑动按钮事件: 开始处理");const n=window.jQuery||window.$;if(!n||!t?.extra?.image_swipes)return console.warn("无法重新绑定滑动按钮事件: jQuery不可用或消息没有滑动序列"),!1;if(!window.eventSource||"function"!=typeof window.eventSource.emit)return console.warn("无法重新绑定滑动按钮事件: eventSource不可用"),!1;const r=window.event_types||{IMAGE_SWIPED:"IMAGE_SWIPED"},o=e.jquery?e:n(e),a=o.attr("mesid");if(!a)return console.warn("无法重新绑定滑动按钮事件: 未找到消息ID"),!1;console.log(`重新绑定滑动按钮事件: 消息ID=${a}, 图片数量=${t.extra.image_swipes.length}`);const l=o.find(".mes_img_container");if(!l.length)return console.warn("无法重新绑定滑动按钮事件: 未找到图片容器"),!1;const i=l.find(".mes_img_swipe_counter"),s=t.extra.image_swipes.indexOf(t.extra.image)+1;i.text(`${s}/${t.extra.image_swipes.length}`);l.find(".mes_img_swipe_left").off("click").on("click",(function(){console.log("左滑按钮点击"),window.eventSource.emit(r.IMAGE_SWIPED,{message:t,element:o,direction:"left"})}));return l.find(".mes_img_swipe_right").off("click").on("click",(function(){console.log("右滑按钮点击"),window.eventSource.emit(r.IMAGE_SWIPED,{message:t,element:o,direction:"right"})})),console.log("滑动按钮事件已重新绑定"),!0}catch(e){return console.error("重新绑定滑动按钮事件失败:",e),!1}};var a=n(428);const l=()=>void 0!==window.SillyTavern&&"function"==typeof window.SillyTavern.getContext?window.SillyTavern.getContext():"function"==typeof window.getContext?window.getContext():null,i=async(e,t,n,l)=>{if(!e||!t||0===t.length||-1===n)return console.error("向滑动序列添加图片失败：无效的参数"),{success:!1,error:"无效的参数"};try{if(n<0||n>=e.chat.length){const t=`向滑动序列添加图片失败：目标消息索引无效 ${n}, 聊天长度: ${e.chat.length}`;return console.error(t),{success:!1,error:t}}console.log(`向滑动序列添加图片 - 目标索引: ${n}, 聊天长度: ${e.chat.length}`);const l=e.chat[n];if(!l){const e=`向滑动序列添加图片失败：未找到目标消息 ${n}`;return console.error(e),{success:!1,error:e}}if(!l.extra||!Array.isArray(l.extra.image_swipes)){const e="向滑动序列添加图片失败：目标消息没有图片滑动序列";return console.error(e),{success:!1,error:e}}const i=[...l.extra.image_swipes],s=i.length,u=t.map((e=>e.url));l.extra.image_swipes=[...i,...u];for(let e=0;e<u.length;e++)l.extra.title+=`\n链接: ${u[e]}`;console.log(`已向滑动序列添加${u.length}张新图片，原始数量: ${s}, 新数量: ${l.extra.image_swipes.length}`),console.log("使用增强的API更新滑动序列");try{if(await r.A.updateMessageBlock(n,l)){console.log("滑动序列已通过增强的API更新成功"),r.A.forceUpdate();const e=(window.jQuery||window.$)(`#chat [mesid="${n}"]`);if(e.length){console.log(`重新绑定滑动按钮事件，消息ID: ${n}`),o(e,l),console.log(`为消息ID ${n} 添加“生成更多”和“画图设置”按钮`);e.find(".mes_img_container").each((function(){(0,a.isJjddHuatuImage)(this,e[0])&&(0,a.addButtonsToImageContainer)(this,e[0],!0)}))}return r.A.saveChat().then((()=>{console.log("聊天记录已保存")})).catch((e=>{console.warn("保存聊天记录失败:",e)})),{success:!0,messageId:n,originalCount:s,newCount:l.extra.image_swipes.length}}}catch(e){console.error("通过增强的API更新滑动序列失败:",e)}const c=document.querySelector(`#chat .mes[mesid="${n}"]`);if(c){console.log("找到目标DOM元素，使用增强的API更新滑动序列UI");try{const e=window.jQuery||window.$;r.A.appendMediaToMessage(l,e(c),!1)&&(console.log("滑动序列已通过增强的appendMediaToMessage更新成功"),r.A.forceUpdate(),r.A.saveChat().then((()=>{console.log("聊天记录已保存")})).catch((e=>{console.warn("保存聊天记录失败:",e)})))}catch(e){console.error("使用增强的API更新滑动序列UI失败:",e),console.log("尝试手动更新滑动序列UI");try{const e=c.querySelector(".mes_img_container");if(e){e.classList.add("img_extra","img_swipes");let t=e.querySelector(".mes_img_swipe_counter");t&&(t.textContent=`1/${l.extra.image_swipes.length}`),setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),10)}}catch(e){console.error("手动更新滑动序列UI失败:",e)}}}else console.warn("未找到目标DOM元素，无法更新滑动序列UI");return"function"==typeof e.saveChat?(await e.saveChat(),console.log("聊天记录已保存，滑动序列更新完成")):console.warn("saveChat方法不可用，无法保存聊天记录"),{success:!0,messageId:n,originalCount:s,newCount:l.extra.image_swipes.length}}catch(e){return console.error("向滑动序列添加图片失败:",e),{success:!1,error:e.message}}},s=e=>{const t=e?.closest?.(".mes");return t?Number(t.getAttribute("mesid")):-1},u=async(e,t,n)=>{if(e&&t&&0!==t.length)try{const o=e.characters[e.characterId]?.name||e.name2||"AI",a=e.characters.find((e=>e.name===o)),l=a?.avatar||"img/logo.png",i=e.chat.length>0?void 0!==e.chat[e.chat.length-1].mes_id?e.chat[e.chat.length-1].mes_id:e.chat.length-1:-1,s=i+1;console.log(`添加新消息 - 上一条消息ID: ${i}, 新消息ID: ${s}, 当前聊天长度: ${e.chat.length}`);const u={name:o,is_user:!1,is_system:!1,send_date:Date.now(),mes:"以下是生成的图片",mes_id:s,extra:{image:t[0].url,image_swipes:t.map((e=>e.url)),title:`提示词: ${n}\n链接: ${t[0].url}`,inline_image:!0},swipe_id:0,avatar:l};for(let e=1;e<t.length;e++)u.extra.title+=`\n链接: ${t[e].url}`;console.log(`将消息添加到聊天数组，当前长度: ${e.chat.length}`),e.chat.push(u);const c=e.chat.length-1;console.log(`消息已添加到聊天数组，新长度: ${e.chat.length}, 消息索引: ${c}`);try{console.log(`使用增强的API添加消息，消息ID: ${s}, 索引: ${c}`),"function"==typeof e.addOneMessage?(await e.addOneMessage(u,{forceId:c,scroll:!0,showSwipes:!1}),console.log("图像消息已通过context.addOneMessage添加到UI")):"function"==typeof window.eventSource?.emit?(window.eventSource.emit("chatUpdated"),console.log("已触发chatUpdated事件更新UI")):console.warn("无法触发事件更新UI"),r.A.forceUpdate(),await r.A.saveChat(),console.log(`聊天记录已保存，消息ID: ${s}, 索引: ${c}`)}catch(t){console.error("使用增强的API添加消息失败:",t);try{"function"==typeof e.saveChat&&(await e.saveChat(),console.log("聊天记录已保存（原始方法）")),"function"==typeof window.eventSource?.emit&&(window.eventSource.emit("chatUpdated"),console.log("已触发chatUpdated事件（原始方法）"))}catch(e){console.error("原始方法也失败:",e)}}return"function"==typeof e.saveChat&&(await e.saveChat(),console.log("聊天记录已最终保存，确保消息ID正确")),{success:!0,messageId:s,messageIndex:c}}catch(e){return console.error("添加图像消息失败:",e),{success:!1,error:e.message}}else console.error("添加图像消息失败：无效的参数")},c=async(e,t,n,o)=>{if(!e||!t||0===t.length||-1===n)return console.error("替换图像失败：无效的参数"),{success:!1,error:"无效的参数"};try{if(n<0||n>=e.chat.length){const t=`替换图像失败：目标消息索引无效 ${n}, 聊天长度: ${e.chat.length}`;return console.error(t),{success:!1,error:t}}console.log(`替换消息图像 - 目标索引: ${n}, 聊天长度: ${e.chat.length}`);const l=e.chat[n];if(!l){const e=`替换图像失败：未找到目标消息 ${n}`;return console.error(e),{success:!1,error:e}}const i=l.is_user,s=l.is_system,u=l.avatar,c=l.name,d=void 0!==l.mes_id?l.mes_id:n;console.log(`目标消息信息 - 名称: ${c}, ID: ${d}, 是否用户消息: ${i}`),l.extra=l.extra||{},l.extra.title=`提示词: ${o}\n链接: ${t[0].url}`,l.extra.image=t[0].url,l.extra.image_swipes=t.map((e=>e.url)),l.extra.inline_image=!0;for(let e=1;e<t.length;e++)l.extra.title+=`\n链接: ${t[e].url}`;l.is_user=i,l.is_system=s,l.avatar=u,l.name=c,l.mes_id=d,console.log(`已更新消息对象的图像数据，图片数量: ${t.length}`),console.log(`使用增强的API访问方法更新消息，目标索引: ${n}, 消息ID: ${d}`);try{if(await r.A.updateMessageBlock(n,l))return console.log(`消息图像已通过增强的API替换成功, 消息ID: ${d}`),r.A.forceUpdate(),{success:!0,messageId:d,messageIndex:n}}catch(e){console.error("通过增强的API更新消息失败:",e)}let f=null;if(void 0!==d&&(f=document.querySelector(`#chat .mes[mesid="${d}"]`),console.log(`尝试使用mes_id查找DOM元素: ${d}, 结果:`,f?"找到":"未找到")),f||(f=document.querySelector(`#chat .mes[mesid="${n}"]`),console.log(`尝试使用索引查找DOM元素: ${n}, 结果:`,f?"找到":"未找到")),f){console.log("找到目标DOM元素，更新图像数据"),console.log("使用增强的API更新消息内容");try{const e=window.jQuery||window.$;if(r.A.appendMediaToMessage(l,e(f),!1)){console.log("消息图像已通过增强的appendMediaToMessage替换成功"),r.A.forceUpdate(),console.log(`为消息ID ${d} 添加“生成更多”和“画图设置”按钮`);return e(f).find(".mes_img_container").each((function(){(0,a.isJjddHuatuImage)(this,f)&&(0,a.addButtonsToImageContainer)(this,f,!0)})),r.A.saveChat().then((()=>{console.log("聊天记录已保存")})).catch((e=>{console.warn("保存聊天记录失败:",e)})),{success:!0,messageId:d,messageIndex:n}}}catch(e){console.error("使用增强的API更新图像失败:",e)}console.log("增强的API失败，尝试手动更新DOM元素");try{const e=f.querySelector(".mes_img_container"),n=f.querySelector(".mes_img");if(n){if(n.src=t[0].url,n.title=`提示词: ${o}`,n.classList.add("img_inline"),n.onload=()=>{console.log("图片已重新加载"),window.dispatchEvent(new Event("resize"))},n.src=l.extra.image+"?t="+Date.now(),console.log(`更新了图像元素src: ${t[0].url}`),t.length>1&&e){e.classList.add("img_extra","img_swipes");let n=e.querySelector(".mes_img_swipe_counter");n||(n=document.createElement("div"),n.className="mes_img_swipe_counter",e.appendChild(n)),n.textContent=`1/${t.length}`;let r=e.querySelector(".mes_img_swipe_left"),o=e.querySelector(".mes_img_swipe_right");r||(r=document.createElement("div"),r.className="mes_img_swipe_left",r.innerHTML="‹",e.appendChild(r)),o||(o=document.createElement("div"),o.className="mes_img_swipe_right",o.innerHTML="›",e.appendChild(o)),console.log(`已更新滑动UI元素，总图片数: ${t.length}`)}}else{console.warn("未找到图像元素，需要完全重建");const e=f.querySelector(".mes_text");if(e){const n=document.createElement("div");n.className="mes_img_container img_extra",t.length>1&&n.classList.add("img_swipes");const r=document.createElement("img");if(r.className="mes_img img_inline",r.src=t[0].url,r.title=`提示词: ${o}`,n.appendChild(r),t.length>1){const e=document.createElement("div");e.className="mes_img_swipe_counter",e.textContent=`1/${t.length}`,n.appendChild(e);const r=document.createElement("div");r.className="mes_img_swipe_left",r.innerHTML="‹",n.appendChild(r);const o=document.createElement("div");o.className="mes_img_swipe_right",o.innerHTML="›",n.appendChild(o)}const a=f.querySelector(".mes_block");a&&(a.insertBefore(n,e),console.log("完全重建了图像容器元素"))}}}catch(e){console.error("手动更新DOM失败:",e)}console.log("DOM更新完成")}else console.warn("未找到目标DOM元素，无法更新UI");return"function"==typeof e.saveChat?(await e.saveChat(),console.log("聊天记录已保存")):console.warn("saveChat方法不可用，无法保存聊天记录"),{success:!0,messageId:d,messageIndex:n}}catch(e){return console.error("替换图像失败:",e),{success:!1,error:e.message}}},d=async(e,t,n,o)=>{if(e&&t)try{const a=e.getAttribute("data-prompt")||"",i=s(e),u=l();if(!u||-1===i)return void console.error("应用图像到按钮失败：无法获取上下文或消息ID");const c=new Image;c.onload=()=>{e.style.display="inline-block",e.style.width=`${n}px`,e.style.height=`${o}px`,e.style.backgroundImage=`url(${t})`,e.style.backgroundSize="cover",e.style.backgroundRepeat="no-repeat",e.style.backgroundPosition="center",e.style.border="none",e.style.padding="0px",e.textContent="",e.disabled=!1,e.removeAttribute("data-generating");const l=u.chat[i];if(l){const e=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/ /g,"\\s+"),s=new RegExp(`<button\\s+data-prompt="\\s*${e}\\s*"\\s+class="(image-prompt-button|custom-image-prompt-button)"[^>]*>.*?</button>`,"i"),c=`<button data-prompt="${a}" class="custom-image-prompt-button" style="display: inline-block; width: ${n}px; height: ${o}px; background-image: url(${t}); background-size: cover; background-repeat: no-repeat; background-position: center; border: none; padding: 0px;"> </button>`;s.test(l.mes)?(console.log("找到匹配的按钮，进行替换"),l.mes=l.mes.replace(s,c)):console.warn("未找到匹配的按钮，无法替换"),r.A.updateMessageBlock(i,l).then((e=>(e?(console.log("消息块已通过增强的API更新成功"),r.A.forceUpdate()):"function"==typeof u.updateMessageBlock&&(u.updateMessageBlock(i,l),console.log("消息块已通过原始方法更新成功")),r.A.saveChat()))).then((()=>{console.log("图像已应用到按钮背景，聊天记录已保存")})).catch((e=>{console.error("更新消息块或保存聊天记录失败:",e),"function"==typeof u.updateMessageBlock&&u.updateMessageBlock(i,l),"function"==typeof u.saveChat&&u.saveChat(),console.log("图像已应用到按钮背景（原始方法）")}))}},c.onerror=()=>{console.error("加载图像失败:",t),e.disabled=!1,e.removeAttribute("data-generating")},c.src=t}catch(t){console.error("应用图像到按钮失败:",t),e&&(e.disabled=!1,e.removeAttribute("data-generating"))}else console.error("应用图像到按钮失败：无效的参数")},f=e=>{const t=document.getElementById("chat");if(!t||!e)return console.error("设置观察器失败：无效的参数"),()=>{};const n=new MutationObserver((t=>{let n=!1;t.forEach((e=>{e.addedNodes.length>0&&e.addedNodes.forEach((e=>{if(e instanceof HTMLElement){e.classList&&(e.classList.contains("custom-image-prompt-button")||e.classList.contains("image-prompt-button"))&&(n=!0);e.querySelectorAll(".custom-image-prompt-button, .image-prompt-button").length>0&&(n=!0)}}))})),n&&e()}));return n.observe(t,{childList:!0,subtree:!0}),()=>n.disconnect()}},932:(e,t,n)=>{n.d(t,{P0:()=>r});const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e3,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=document.querySelector(".toast-container");r||(r=document.createElement("div"),r.className="toast-container",document.body.appendChild(r));const o=document.createElement("div");o.className="jjdd-huatu-toast "+(n?"error":"success");const a=document.createElement("span");a.textContent=e,o.appendChild(a),r.appendChild(o),setTimeout((()=>{o.classList.add("show")}),10),setTimeout((()=>{o.classList.remove("show"),setTimeout((()=>o.remove()),300)}),t)}},910:(e,t,n)=>{n.d(t,{DS:()=>r,_1:()=>i,ap:()=>o,ek:()=>l,pf:()=>a});const r=(e,t,n,r)=>{const o=Number(e);return isNaN(o)?{isValid:!1,error:`${r}必须是有效的数字`}:o<t||o>n?{isValid:!1,error:`${r}必须在${t}到${n}之间`}:{isValid:!0,error:null}},o=e=>{const t={},n=r(e.width,256,2300,"宽度");n.isValid||(t.width=n.error);const o=r(e.height,256,3200,"高度");o.isValid||(t.height=o.error);const a=r(e.count,1,4,"生成数量");a.isValid||(t.count=a.error);const l=r(e.steps,10,60,"步数");l.isValid||(t.steps=l.error);const i=r(e.cfgScale,1,30,"CFG Scale");if(i.isValid||(t.cfgScale=i.error),-1!==e.seed){const n=r(e.seed,-1,Number.MAX_SAFE_INTEGER,"种子");n.isValid||(t.seed=n.error)}const s=r(e.clipSkip,1,12,"Clip Skip");return s.isValid||(t.clipSkip=s.error),{isValid:0===Object.keys(t).length,errors:t}},a=e=>{const t={};if(e.model&&""!==e.model.trim()){const n=e.model.trim(),r=/^(?:https?:\/\/)?tensor\.art\/models\/(\d+)(?:\/[^\/?#]*)?/;/^\d+$/.test(n)||r.test(n)||(t.model="请输入有效的数字ID或tensor.art链接")}else t.model="Lora模型名称/ID不能为空";const n=r(e.weight,0,2,"Lora权重");return n.isValid||(t.weight=n.error),{isValid:0===Object.keys(t).length,errors:t}},l=e=>e&&""!==e.trim()?!e.startsWith("jjdd-")||e.length<15?{isValid:!1,error:"API密钥格式不正确！"}:{isValid:!0,error:null}:{isValid:!1,error:"API密钥不能为空"},i=e=>{const{useCustomModel:t,selectedModel:n,customModelId:r}=e;if(t){if(!r||""===r.trim())return{isValid:!1,error:"自定义模型ID不能为空"}}else if(!n||""===n.trim())return{isValid:!1,error:"请选择一个模型"};return{isValid:!0,error:null}}},551:(e,t,n)=>{
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540),o=n(982);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=new Set,i={};function s(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(i[e]=t,e=0;e<t.length;e++)l.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function g(e,t,n,r,o,a,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){h[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];h[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){h[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){h[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){h[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){h[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){h[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){h[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){h[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=h.hasOwnProperty(t)?h[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(m,e)||!d.call(p,e)&&(f.test(e)?m[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);h[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);h[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);h[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){h[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),h.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){h[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),x=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function D(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=M&&e[M]||e["@@iterator"])?e:null}var O,R=Object.assign;function $(e){if(void 0===O)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function U(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var o=t.stack.split("\n"),a=r.stack.split("\n"),l=o.length-1,i=a.length-1;1<=l&&0<=i&&o[l]!==a[i];)i--;for(;1<=l&&0<=i;l--,i--)if(o[l]!==a[i]){if(1!==l||1!==i)do{if(l--,0>--i||o[l]!==a[i]){var s="\n"+o[l].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=l&&0<=i);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function F(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case T:return"Profiler";case k:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return H(e(t))}catch(e){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function B(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function q(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=B(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=B(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,B(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+B(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:B(n)}}function ae(e,t){var n=B(t.value),r=B(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},me=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function he(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){me.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ee=null,ke=null;function Te(e){if(e=bo(e)){if("function"!=typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=_o(t),_e(e.stateNode,e.type,t))}}function Ce(e){Ee?ke?ke.push(e):ke=[e]:Ee=e}function xe(){if(Ee){var e=Ee,t=ke;if(ke=Ee=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Pe(e,t){return e(t)}function Ie(){}var Ae=!1;function Le(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Pe(e,t,n)}finally{Ae=!1,(null!==Ee||null!==ke)&&(Ie(),xe())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=_o(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var je=!1;if(c)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){je=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ce){je=!1}function De(e,t,n,r,o,a,l,i,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var Oe=!1,Re=null,$e=!1,ze=null,Ue={onError:function(e){Oe=!0,Re=e}};function Fe(e,t,n,r,o,a,l,i,s){Oe=!1,Re=null,De.apply(Ue,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(He(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var l=o.alternate;if(null===l){if(null!==(r=o.return)){n=r;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return Be(o),e;if(l===r)return Be(o),t;l=l.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=l;else{for(var i=!1,s=o.child;s;){if(s===n){i=!0,n=o,r=l;break}if(s===r){i=!0,r=o,n=l;break}s=s.sibling}if(!i){for(s=l.child;s;){if(s===n){i=!0,n=l,r=o;break}if(s===r){i=!0,r=l,n=o;break}s=s.sibling}if(!i)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=o.unstable_scheduleCallback,Qe=o.unstable_cancelCallback,qe=o.unstable_shouldYield,Je=o.unstable_requestPaint,Ye=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,at=null;var lt=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/st|0)|0},it=Math.log,st=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,a=e.pingedLanes,l=268435455&n;if(0!==l){var i=l&~o;0!==i?r=dt(i):0!==(a&=l)&&(r=dt(a))}else 0!==(l=n&~o)?r=dt(l):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&!(t&o)&&((o=r&-r)>=(a=t&-t)||16===o&&4194240&a))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-lt(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var St,_t,Et,kt,Tt,Ct=!1,xt=[],Pt=null,It=null,At=null,Lt=new Map,Nt=new Map,jt=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Ot(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Rt(e){var t=wo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bo(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){$t(e)&&n.delete(t)}function Ut(){Ct=!1,null!==Pt&&$t(Pt)&&(Pt=null),null!==It&&$t(It)&&(It=null),null!==At&&$t(At)&&(At=null),Lt.forEach(zt),Nt.forEach(zt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ut)))}function Ht(e){function t(t){return Ft(t,e)}if(0<xt.length){Ft(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Pt&&Ft(Pt,e),null!==It&&Ft(It,e),null!==At&&Ft(At,e),Lt.forEach(t),Nt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Rt(n),null===n.blockedOn&&jt.shift()}var Vt=b.ReactCurrentBatchConfig,Bt=!0;function Gt(e,t,n,r){var o=wt,a=Vt.transition;Vt.transition=null;try{wt=1,Wt(e,t,n,r)}finally{wt=o,Vt.transition=a}}function Kt(e,t,n,r){var o=wt,a=Vt.transition;Vt.transition=null;try{wt=4,Wt(e,t,n,r)}finally{wt=o,Vt.transition=a}}function Wt(e,t,n,r){if(Bt){var o=qt(e,t,n,r);if(null===o)Br(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Pt=Ot(Pt,e,t,n,r,o),!0;case"dragenter":return It=Ot(It,e,t,n,r,o),!0;case"mouseover":return At=Ot(At,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Lt.set(a,Ot(Lt.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Nt.set(a,Ot(Nt.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==o;){var a=bo(o);if(null!==a&&St(a),null===(a=qt(e,t,n,r))&&Br(e,t,r,Qt,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Br(e,t,r,null,n)}}var Qt=null;function qt(e,t,n,r){if(Qt=null,null!==(e=wo(e=Se(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,o="value"in Yt?Yt.value:Yt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var l=r-e;for(t=1;t<=l&&n[r-t]===o[a-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,a){for(var l in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(l)&&(t=e[l],this[l]=t?t(o):o[l]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,ln,sn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=R({},un,{view:0,detail:0}),fn=on(dn),pn=R({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,ln=e.screenY-sn.screenY):ln=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=on(pn),gn=on(R({},pn,{dataTransfer:0})),hn=on(R({},dn,{relatedTarget:0})),yn=on(R({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=R({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),bn=on(R({},un,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Tn(){return kn}var Cn=R({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(Cn),Pn=on(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(R({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=on(R({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=on(Ln),jn=[9,13,27,32],Mn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var On=c&&"TextEvent"in window&&!Dn,Rn=c&&(!Mn||Dn&&8<Dn&&11>=Dn),$n=String.fromCharCode(32),zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Qn(e){$r(e,0)}function qn(e){if(W(So(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Xn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"==typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&qn(Wn)){var t=[];Gn(t,Wn,e,Se(e)),Le(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Wn)}function ar(e,t){if("click"===e)return qn(t)}function lr(e,t){if("input"===e||"change"===e)return qn(t)}var ir="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function sr(e,t){if(ir(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ir(e[o],t[o]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function mr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=void 0===r.end?a:Math.min(r.end,o),!e.extend&&a>r&&(o=r,r=a,a=o),o=cr(n,a);var l=cr(n,r);o&&l&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,hr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==hr||hr!==Q(r)||("selectionStart"in(r=hr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&sr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},Er={},kr={};function Tr(e){if(Er[e])return Er[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Er[e]=n[t];return e}c&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Cr=Tr("animationend"),xr=Tr("animationiteration"),Pr=Tr("animationstart"),Ir=Tr("transitionend"),Ar=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Ar.set(e,t),s(t,[e])}for(var jr=0;jr<Lr.length;jr++){var Mr=Lr[jr];Nr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Nr(Cr,"onAnimationEnd"),Nr(xr,"onAnimationIteration"),Nr(Pr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Ir,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,l,i,s,u){if(Fe.apply(this,arguments),Oe){if(!Oe)throw Error(a(198));var c=Re;Oe=!1,Re=null,$e||($e=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function $r(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var i=r[l],s=i.instance,u=i.currentTarget;if(i=i.listener,s!==a&&o.isPropagationStopped())break e;Rr(o,i,u),a=s}else for(l=0;l<r.length;l++){if(s=(i=r[l]).instance,u=i.currentTarget,i=i.listener,s!==a&&o.isPropagationStopped())break e;Rr(o,i,u),a=s}}}if($e)throw e=ze,$e=!1,ze=null,e}function zr(e,t){var n=t[ho];void 0===n&&(n=t[ho]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Fr]){e[Fr]=!0,l.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Fr]||(t[Fr]=!0,Ur("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Jt(t)){case 1:var o=Gt;break;case 4:o=Kt;break;default:o=Wt}n=o.bind(null,t,n,e),o=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Br(e,t,n,r,o){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var l=r.tag;if(3===l||4===l){var i=r.stateNode.containerInfo;if(i===o||8===i.nodeType&&i.parentNode===o)break;if(4===l)for(l=r.return;null!==l;){var s=l.tag;if((3===s||4===s)&&((s=l.stateNode.containerInfo)===o||8===s.nodeType&&s.parentNode===o))return;l=l.return}for(;null!==i;){if(null===(l=wo(i)))return;if(5===(s=l.tag)||6===s){r=a=l;continue e}i=i.parentNode}}r=r.return}Le((function(){var r=a,o=Se(n),l=[];e:{var i=Ar.get(e);if(void 0!==i){var s=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=xn;break;case"focusin":u="focus",s=hn;break;case"focusout":u="blur",s=hn;break;case"beforeblur":case"afterblur":s=hn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=In;break;case Cr:case xr:case Pr:s=yn;break;case Ir:s=An;break;case"scroll":s=fn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Pn}var c=!!(4&t),d=!c&&"scroll"===e,f=c?null!==i?i+"Capture":null:i;c=[];for(var p,m=r;null!==m;){var g=(p=m).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==f&&(null!=(g=Ne(m,f))&&c.push(Gr(m,g,p)))),d)break;m=m.return}0<c.length&&(i=new s(i,u,null,n,o),l.push({event:i,listeners:c}))}}if(!(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!wo(u)&&!u[go])&&(s||i)&&(i=o.window===o?o:(i=o.ownerDocument)?i.defaultView||i.parentWindow:window,s?(s=r,null!==(u=(u=n.relatedTarget||n.toElement)?wo(u):null)&&(u!==(d=He(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(s=null,u=r),s!==u)){if(c=mn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(c=Pn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==s?i:So(s),p=null==u?i:So(u),(i=new c(g,m+"leave",s,n,o)).target=d,i.relatedTarget=p,g=null,wo(o)===r&&((c=new c(f,m+"enter",u,n,o)).target=p,c.relatedTarget=d,g=c),d=g,s&&u)e:{for(f=u,m=0,p=c=s;p;p=Wr(p))m++;for(p=0,g=f;g;g=Wr(g))p++;for(;0<m-p;)c=Wr(c),m--;for(;0<p-m;)f=Wr(f),p--;for(;m--;){if(c===f||null!==f&&c===f.alternate)break e;c=Wr(c),f=Wr(f)}c=null}else c=null;null!==s&&Qr(l,i,s,c,!1),null!==u&&null!==d&&Qr(l,d,u,c,!0)}if("select"===(s=(i=r?So(r):window).nodeName&&i.nodeName.toLowerCase())||"input"===s&&"file"===i.type)var h=Jn;else if(Bn(i))if(Yn)h=lr;else{h=or;var y=rr}else(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(h=ar);switch(h&&(h=h(e,r))?Gn(l,h,n,o):(y&&y(e,i,r),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=r?So(r):window,e){case"focusin":(Bn(y)||"true"===y.contentEditable)&&(hr=y,yr=r,vr=null);break;case"focusout":vr=yr=hr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(l,n,o);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(l,n,o)}var v;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hn?Un(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Rn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hn&&(v=en()):(Xt="value"in(Yt=o)?Yt.value:Yt.textContent,Hn=!0)),0<(y=Kr(r,w)).length&&(w=new bn(w,e,null,n,o),l.push({event:w,listeners:y}),v?w.data=v:null!==(v=Fn(n))&&(w.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Fn(t);case"keypress":return 32!==t.which?null:(zn=!0,$n);case"textInput":return(e=t.data)===$n&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&Un(e,t)?(e=en(),Zt=Xt=Yt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),l.push({event:o,listeners:r}),o.data=v))}$r(l,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;5===o.tag&&null!==a&&(o=a,null!=(a=Ne(e,n))&&r.unshift(Gr(e,a,o)),null!=(a=Ne(e,t))&&r.push(Gr(e,a,o))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,o){for(var a=t._reactName,l=[];null!==n&&n!==r;){var i=n,s=i.alternate,u=i.stateNode;if(null!==s&&s===r)break;5===i.tag&&null!==u&&(i=u,o?null!=(s=Ne(n,a))&&l.unshift(Gr(n,s,i)):o||null!=(s=Ne(n,a))&&l.push(Gr(n,s,i))),n=n.return}0!==l.length&&e.push({event:t,listeners:l})}var qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace(qr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"==typeof setTimeout?setTimeout:void 0,oo="function"==typeof clearTimeout?clearTimeout:void 0,ao="function"==typeof Promise?Promise:void 0,lo="function"==typeof queueMicrotask?queueMicrotask:void 0!==ao?function(e){return ao.resolve(null).then(e).catch(io)}:ro;function io(e){setTimeout((function(){throw e}))}function so(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ht(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,mo="__reactProps$"+fo,go="__reactContainer$"+fo,ho="__reactEvents$"+fo,yo="__reactListeners$"+fo,vo="__reactHandles$"+fo;function wo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[po])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function bo(e){return!(e=e[po]||e[go])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function So(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function _o(e){return e[mo]||null}var Eo=[],ko=-1;function To(e){return{current:e}}function Co(e){0>ko||(e.current=Eo[ko],Eo[ko]=null,ko--)}function xo(e,t){ko++,Eo[ko]=e.current,e.current=t}var Po={},Io=To(Po),Ao=To(!1),Lo=Po;function No(e,t){var n=e.type.contextTypes;if(!n)return Po;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function jo(e){return null!=(e=e.childContextTypes)}function Mo(){Co(Ao),Co(Io)}function Do(e,t,n){if(Io.current!==Po)throw Error(a(168));xo(Io,t),xo(Ao,n)}function Oo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,V(e)||"Unknown",o));return R({},n,r)}function Ro(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Po,Lo=Io.current,xo(Io,e),xo(Ao,Ao.current),!0}function $o(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Oo(e,t,Lo),r.__reactInternalMemoizedMergedChildContext=e,Co(Ao),Co(Io),xo(Io,e)):Co(Ao),xo(Ao,n)}var zo=null,Uo=!1,Fo=!1;function Ho(e){null===zo?zo=[e]:zo.push(e)}function Vo(){if(!Fo&&null!==zo){Fo=!0;var e=0,t=wt;try{var n=zo;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Uo=!1}catch(t){throw null!==zo&&(zo=zo.slice(e+1)),We(Ze,Vo),t}finally{wt=t,Fo=!1}}return null}var Bo=[],Go=0,Ko=null,Wo=0,Qo=[],qo=0,Jo=null,Yo=1,Xo="";function Zo(e,t){Bo[Go++]=Wo,Bo[Go++]=Ko,Ko=e,Wo=t}function ea(e,t,n){Qo[qo++]=Yo,Qo[qo++]=Xo,Qo[qo++]=Jo,Jo=e;var r=Yo;e=Xo;var o=32-lt(r)-1;r&=~(1<<o),n+=1;var a=32-lt(t)+o;if(30<a){var l=o-o%5;a=(r&(1<<l)-1).toString(32),r>>=l,o-=l,Yo=1<<32-lt(t)+o|n<<o|r,Xo=a+e}else Yo=1<<a|n<<o|r,Xo=e}function ta(e){null!==e.return&&(Zo(e,1),ea(e,1,0))}function na(e){for(;e===Ko;)Ko=Bo[--Go],Bo[Go]=null,Wo=Bo[--Go],Bo[Go]=null;for(;e===Jo;)Jo=Qo[--qo],Qo[qo]=null,Xo=Qo[--qo],Qo[qo]=null,Yo=Qo[--qo],Qo[qo]=null}var ra=null,oa=null,aa=!1,la=null;function ia(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,oa=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,oa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Jo?{id:Yo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,oa=null,!0);default:return!1}}function ua(e){return!(!(1&e.mode)||128&e.flags)}function ca(e){if(aa){var t=oa;if(t){var n=t;if(!sa(e,t)){if(ua(e))throw Error(a(418));t=uo(n.nextSibling);var r=ra;t&&sa(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function fa(e){if(e!==ra)return!1;if(!aa)return da(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oa)){if(ua(e))throw pa(),Error(a(418));for(;t;)ia(e,t),t=uo(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oa=uo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oa=null}}else oa=ra?uo(e.stateNode.nextSibling):null;return!0}function pa(){for(var e=oa;e;)e=uo(e.nextSibling)}function ma(){oa=ra=null,aa=!1}function ga(e){null===la?la=[e]:la.push(e)}var ha=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var va=To(null),wa=null,ba=null,Sa=null;function _a(){Sa=ba=wa=null}function Ea(e){var t=va.current;Co(va),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){wa=e,Sa=ba=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(!!(e.lanes&t)&&(bi=!0),e.firstContext=null)}function Ca(e){var t=e._currentValue;if(Sa!==e)if(e={context:e,memoizedValue:t,next:null},null===ba){if(null===wa)throw Error(a(308));ba=e,wa.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var xa=null;function Pa(e){null===xa?xa=[e]:xa.push(e)}function Ia(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Pa(t)):(n.next=o.next,o.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var La=!1;function Na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ma(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Is){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Aa(e,n)}return null===(o=r.interleaved)?(t.next=t,Pa(r)):(t.next=o.next,o.next=t),r.interleaved=t,Aa(e,n)}function Oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?o=a=l:a=a.next=l,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function $a(e,t,n,r){var o=e.updateQueue;La=!1;var a=o.firstBaseUpdate,l=o.lastBaseUpdate,i=o.shared.pending;if(null!==i){o.shared.pending=null;var s=i,u=s.next;s.next=null,null===l?a=u:l.next=u,l=s;var c=e.alternate;null!==c&&((i=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===i?c.firstBaseUpdate=u:i.next=u,c.lastBaseUpdate=s))}if(null!==a){var d=o.baseState;for(l=0,c=u=s=null,i=a;;){var f=i.lane,p=i.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var m=e,g=i;switch(f=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(p,d,f):m))break e;d=R({},d,f);break e;case 2:La=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[i]:f.push(i))}else p={eventTime:p,lane:f,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===c?(u=c=p,s=d):c=c.next=p,l|=f;if(null===(i=i.next)){if(null===(i=o.shared.pending))break;i=(f=i).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===c&&(s=d),o.baseState=s,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{l|=o.lane,o=o.next}while(o!==t)}else null===a&&(o.shared.lanes=0);Rs|=l,e.lanes=l,e.memoizedState=d}}function za(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!=typeof o)throw Error(a(191,o));o.call(r)}}}var Ua=(new r.Component).refs;function Fa(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ha={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tu(),o=nu(e),a=Ma(r,o);a.payload=t,null!=n&&(a.callback=n),null!==(t=Da(e,a,o))&&(ru(t,e,o,r),Oa(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tu(),o=nu(e),a=Ma(r,o);a.tag=1,a.payload=t,null!=n&&(a.callback=n),null!==(t=Da(e,a,o))&&(ru(t,e,o,r),Oa(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tu(),r=nu(e),o=Ma(n,r);o.tag=2,null!=t&&(o.callback=t),null!==(t=Da(e,o,r))&&(ru(t,e,r,n),Oa(t,e,r))}};function Va(e,t,n,r,o,a,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,l):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(o,a))}function Ba(e,t,n){var r=!1,o=Po,a=t.contextType;return"object"==typeof a&&null!==a?a=Ca(a):(o=jo(t)?Lo:Io.current,a=(r=null!=(r=t.contextTypes))?No(e,o):Po),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ha.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ua,Na(e);var a=t.contextType;"object"==typeof a&&null!==a?o.context=Ca(a):(a=jo(t)?Lo:Io.current,o.context=No(e,a)),o.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Ha.enqueueReplaceState(o,o.state,null),$a(e,n,o,r),o.state=e.memoizedState),"function"==typeof o.componentDidMount&&(e.flags|=4194308)}function Wa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=r,l=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===l?t.ref:(t=function(e){var t=o.refs;t===Ua&&(t=o.refs={}),null===e?delete t[l]:t[l]=e},t._stringRef=l,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Mu(e,t)).index=0,e.sibling=null,e}function l(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=$u(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===E?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===N&&qa(a)===t.type)?((r=o(t,n.props)).ref=Wa(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=Wa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Ou(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=$u(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=Wa(e,null,t),n.return=e,n;case _:return(t=zu(t,e.mode,n)).return=e,t;case N:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Ou(t,e.mode,n,null)).return=e,t;Qa(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==o?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===o?u(e,t,n,r):null;case _:return n.key===o?c(e,t,n,r):null;case N:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:d(e,t,n,r,null);Qa(e,n)}return null}function m(e,t,n,r,o){if("string"==typeof r&&""!==r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case N:return m(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,o,null);Qa(t,r)}return null}function g(o,a,i,s){for(var u=null,c=null,d=a,g=a=0,h=null;null!==d&&g<i.length;g++){d.index>g?(h=d,d=null):h=d.sibling;var y=p(o,d,i[g],s);if(null===y){null===d&&(d=h);break}e&&d&&null===y.alternate&&t(o,d),a=l(y,a,g),null===c?u=y:c.sibling=y,c=y,d=h}if(g===i.length)return n(o,d),aa&&Zo(o,g),u;if(null===d){for(;g<i.length;g++)null!==(d=f(o,i[g],s))&&(a=l(d,a,g),null===c?u=d:c.sibling=d,c=d);return aa&&Zo(o,g),u}for(d=r(o,d);g<i.length;g++)null!==(h=m(d,o,g,i[g],s))&&(e&&null!==h.alternate&&d.delete(null===h.key?g:h.key),a=l(h,a,g),null===c?u=h:c.sibling=h,c=h);return e&&d.forEach((function(e){return t(o,e)})),aa&&Zo(o,g),u}function h(o,i,s,u){var c=D(s);if("function"!=typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var d=c=null,g=i,h=i=0,y=null,v=s.next();null!==g&&!v.done;h++,v=s.next()){g.index>h?(y=g,g=null):y=g.sibling;var w=p(o,g,v.value,u);if(null===w){null===g&&(g=y);break}e&&g&&null===w.alternate&&t(o,g),i=l(w,i,h),null===d?c=w:d.sibling=w,d=w,g=y}if(v.done)return n(o,g),aa&&Zo(o,h),c;if(null===g){for(;!v.done;h++,v=s.next())null!==(v=f(o,v.value,u))&&(i=l(v,i,h),null===d?c=v:d.sibling=v,d=v);return aa&&Zo(o,h),c}for(g=r(o,g);!v.done;h++,v=s.next())null!==(v=m(g,o,h,v.value,u))&&(e&&null!==v.alternate&&g.delete(null===v.key?h:v.key),i=l(v,i,h),null===d?c=v:d.sibling=v,d=v);return e&&g.forEach((function(e){return t(o,e)})),aa&&Zo(o,h),c}return function e(r,a,l,s){if("object"==typeof l&&null!==l&&l.type===E&&null===l.key&&(l=l.props.children),"object"==typeof l&&null!==l){switch(l.$$typeof){case S:e:{for(var u=l.key,c=a;null!==c;){if(c.key===u){if((u=l.type)===E){if(7===c.tag){n(r,c.sibling),(a=o(c,l.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===N&&qa(u)===c.type){n(r,c.sibling),(a=o(c,l.props)).ref=Wa(r,c,l),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}l.type===E?((a=Ou(l.props.children,r.mode,s,l.key)).return=r,r=a):((s=Du(l.type,l.key,l.props,null,r.mode,s)).ref=Wa(r,a,l),s.return=r,r=s)}return i(r);case _:e:{for(c=l.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(r,a.sibling),(a=o(a,l.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zu(l,r.mode,s)).return=r,r=a}return i(r);case N:return e(r,a,(c=l._init)(l._payload),s)}if(te(l))return g(r,a,l,s);if(D(l))return h(r,a,l,s);Qa(r,l)}return"string"==typeof l&&""!==l||"number"==typeof l?(l=""+l,null!==a&&6===a.tag?(n(r,a.sibling),(a=o(a,l)).return=r,r=a):(n(r,a),(a=$u(l,r.mode,s)).return=r,r=a),i(r)):n(r,a)}}var Ya=Ja(!0),Xa=Ja(!1),Za={},el=To(Za),tl=To(Za),nl=To(Za);function rl(e){if(e===Za)throw Error(a(174));return e}function ol(e,t){switch(xo(nl,t),xo(tl,e),xo(el,Za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(el),xo(el,t)}function al(){Co(el),Co(tl),Co(nl)}function ll(e){rl(nl.current);var t=rl(el.current),n=se(t,e.type);t!==n&&(xo(tl,e),xo(el,n))}function il(e){tl.current===e&&(Co(el),Co(tl))}var sl=To(0);function ul(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cl=[];function dl(){for(var e=0;e<cl.length;e++)cl[e]._workInProgressVersionPrimary=null;cl.length=0}var fl=b.ReactCurrentDispatcher,pl=b.ReactCurrentBatchConfig,ml=0,gl=null,hl=null,yl=null,vl=!1,wl=!1,bl=0,Sl=0;function _l(){throw Error(a(321))}function El(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ir(e[n],t[n]))return!1;return!0}function kl(e,t,n,r,o,l){if(ml=l,gl=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fl.current=null===e||null===e.memoizedState?ii:si,e=n(r,o),wl){l=0;do{if(wl=!1,bl=0,25<=l)throw Error(a(301));l+=1,yl=hl=null,t.updateQueue=null,fl.current=ui,e=n(r,o)}while(wl)}if(fl.current=li,t=null!==hl&&null!==hl.next,ml=0,yl=hl=gl=null,vl=!1,t)throw Error(a(300));return e}function Tl(){var e=0!==bl;return bl=0,e}function Cl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yl?gl.memoizedState=yl=e:yl=yl.next=e,yl}function xl(){if(null===hl){var e=gl.alternate;e=null!==e?e.memoizedState:null}else e=hl.next;var t=null===yl?gl.memoizedState:yl.next;if(null!==t)yl=t,hl=e;else{if(null===e)throw Error(a(310));e={memoizedState:(hl=e).memoizedState,baseState:hl.baseState,baseQueue:hl.baseQueue,queue:hl.queue,next:null},null===yl?gl.memoizedState=yl=e:yl=yl.next=e}return yl}function Pl(e,t){return"function"==typeof t?t(e):t}function Il(e){var t=xl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=hl,o=r.baseQueue,l=n.pending;if(null!==l){if(null!==o){var i=o.next;o.next=l.next,l.next=i}r.baseQueue=o=l,n.pending=null}if(null!==o){l=o.next,r=r.baseState;var s=i=null,u=null,c=l;do{var d=c.lane;if((ml&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(s=u=f,i=r):u=u.next=f,gl.lanes|=d,Rs|=d}c=c.next}while(null!==c&&c!==l);null===u?i=r:u.next=s,ir(r,t.memoizedState)||(bi=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{l=o.lane,gl.lanes|=l,Rs|=l,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Al(e){var t=xl(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,l=t.memoizedState;if(null!==o){n.pending=null;var i=o=o.next;do{l=e(l,i.action),i=i.next}while(i!==o);ir(l,t.memoizedState)||(bi=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Ll(){}function Nl(e,t){var n=gl,r=xl(),o=t(),l=!ir(r.memoizedState,o);if(l&&(r.memoizedState=o,bi=!0),r=r.queue,Bl(Dl.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||null!==yl&&1&yl.memoizedState.tag){if(n.flags|=2048,zl(9,Ml.bind(null,n,r,o,t),void 0,null),null===As)throw Error(a(349));30&ml||jl(n,t,o)}return o}function jl(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=gl.updateQueue)?(t={lastEffect:null,stores:null},gl.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ml(e,t,n,r){t.value=n,t.getSnapshot=r,Ol(t)&&Rl(e)}function Dl(e,t,n){return n((function(){Ol(t)&&Rl(e)}))}function Ol(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ir(e,n)}catch(e){return!0}}function Rl(e){var t=Aa(e,1);null!==t&&ru(t,e,1,-1)}function $l(e){var t=Cl();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pl,lastRenderedState:e},t.queue=e,e=e.dispatch=ni.bind(null,gl,e),[t.memoizedState,e]}function zl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=gl.updateQueue)?(t={lastEffect:null,stores:null},gl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ul(){return xl().memoizedState}function Fl(e,t,n,r){var o=Cl();gl.flags|=e,o.memoizedState=zl(1|t,n,void 0,void 0===r?null:r)}function Hl(e,t,n,r){var o=xl();r=void 0===r?null:r;var a=void 0;if(null!==hl){var l=hl.memoizedState;if(a=l.destroy,null!==r&&El(r,l.deps))return void(o.memoizedState=zl(t,n,a,r))}gl.flags|=e,o.memoizedState=zl(1|t,n,a,r)}function Vl(e,t){return Fl(8390656,8,e,t)}function Bl(e,t){return Hl(2048,8,e,t)}function Gl(e,t){return Hl(4,2,e,t)}function Kl(e,t){return Hl(4,4,e,t)}function Wl(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ql(e,t,n){return n=null!=n?n.concat([e]):null,Hl(4,4,Wl.bind(null,t,e),n)}function ql(){}function Jl(e,t){var n=xl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&El(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yl(e,t){var n=xl();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&El(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xl(e,t,n){return 21&ml?(ir(n,t)||(n=gt(),gl.lanes|=n,Rs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=n)}function Zl(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=pl.transition;pl.transition={};try{e(!1),t()}finally{wt=n,pl.transition=r}}function ei(){return xl().memoizedState}function ti(e,t,n){var r=nu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ri(e))oi(t,n);else if(null!==(n=Ia(e,t,n,r))){ru(n,e,r,tu()),ai(n,t,r)}}function ni(e,t,n){var r=nu(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ri(e))oi(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var l=t.lastRenderedState,i=a(l,n);if(o.hasEagerState=!0,o.eagerState=i,ir(i,l)){var s=t.interleaved;return null===s?(o.next=o,Pa(t)):(o.next=s.next,s.next=o),void(t.interleaved=o)}}catch(e){}null!==(n=Ia(e,t,o,r))&&(ru(n,e,r,o=tu()),ai(n,t,r))}}function ri(e){var t=e.alternate;return e===gl||null!==t&&t===gl}function oi(e,t){wl=vl=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ai(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var li={readContext:Ca,useCallback:_l,useContext:_l,useEffect:_l,useImperativeHandle:_l,useInsertionEffect:_l,useLayoutEffect:_l,useMemo:_l,useReducer:_l,useRef:_l,useState:_l,useDebugValue:_l,useDeferredValue:_l,useTransition:_l,useMutableSource:_l,useSyncExternalStore:_l,useId:_l,unstable_isNewReconciler:!1},ii={readContext:Ca,useCallback:function(e,t){return Cl().memoizedState=[e,void 0===t?null:t],e},useContext:Ca,useEffect:Vl,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Fl(4194308,4,Wl.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fl(4,2,e,t)},useMemo:function(e,t){var n=Cl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Cl();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ti.bind(null,gl,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Cl().memoizedState=e},useState:$l,useDebugValue:ql,useDeferredValue:function(e){return Cl().memoizedState=e},useTransition:function(){var e=$l(!1),t=e[0];return e=Zl.bind(null,e[1]),Cl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=gl,o=Cl();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));30&ml||jl(r,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Vl(Dl.bind(null,r,l,e),[e]),r.flags|=2048,zl(9,Ml.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Cl(),t=As.identifierPrefix;if(aa){var n=Xo;t=":"+t+"R"+(n=(Yo&~(1<<32-lt(Yo)-1)).toString(32)+n),0<(n=bl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Sl++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},si={readContext:Ca,useCallback:Jl,useContext:Ca,useEffect:Bl,useImperativeHandle:Ql,useInsertionEffect:Gl,useLayoutEffect:Kl,useMemo:Yl,useReducer:Il,useRef:Ul,useState:function(){return Il(Pl)},useDebugValue:ql,useDeferredValue:function(e){return Xl(xl(),hl.memoizedState,e)},useTransition:function(){return[Il(Pl)[0],xl().memoizedState]},useMutableSource:Ll,useSyncExternalStore:Nl,useId:ei,unstable_isNewReconciler:!1},ui={readContext:Ca,useCallback:Jl,useContext:Ca,useEffect:Bl,useImperativeHandle:Ql,useInsertionEffect:Gl,useLayoutEffect:Kl,useMemo:Yl,useReducer:Al,useRef:Ul,useState:function(){return Al(Pl)},useDebugValue:ql,useDeferredValue:function(e){var t=xl();return null===hl?t.memoizedState=e:Xl(t,hl.memoizedState,e)},useTransition:function(){return[Al(Pl)[0],xl().memoizedState]},useMutableSource:Ll,useSyncExternalStore:Nl,useId:ei,unstable_isNewReconciler:!1};function ci(e,t){try{var n="",r=t;do{n+=F(r),r=r.return}while(r);var o=n}catch(e){o="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:o,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fi(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var pi="function"==typeof WeakMap?WeakMap:Map;function mi(e,t,n){(n=Ma(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Ks=r),fi(0,t)},n}function gi(e,t,n){(n=Ma(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){fi(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){fi(0,t),"function"!=typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hi(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pi;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function yi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vi(e,t,n,r,o){return 1&e.mode?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ma(-1,1)).tag=2,Da(n,t,1))),n.lanes|=1),e)}var wi=b.ReactCurrentOwner,bi=!1;function Si(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _i(e,t,n,r,o){n=n.render;var a=t.ref;return Ta(t,o),r=kl(e,t,n,r,a,o),n=Tl(),null===e||bi?(aa&&n&&ta(t),t.flags|=1,Si(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gi(e,t,o))}function Ei(e,t,n,r,o){if(null===e){var a=n.type;return"function"!=typeof a||ju(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ki(e,t,a,r,o))}if(a=e.child,!(e.lanes&o)){var l=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(l,r)&&e.ref===t.ref)return Gi(e,t,o)}return t.flags|=1,(e=Mu(a,r)).ref=t.ref,e.return=t,t.child=e}function ki(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bi=!1,t.pendingProps=r=a,!(e.lanes&o))return t.lanes=e.lanes,Gi(e,t,o);131072&e.flags&&(bi=!0)}}return xi(e,t,n,r,o)}function Ti(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xo(Ms,js),js|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,xo(Ms,js),js|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xo(Ms,js),js|=n;else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xo(Ms,js),js|=r;return Si(e,t,o,n),t.child}function Ci(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xi(e,t,n,r,o){var a=jo(n)?Lo:Io.current;return a=No(t,a),Ta(t,o),n=kl(e,t,n,r,a,o),r=Tl(),null===e||bi?(aa&&r&&ta(t),t.flags|=1,Si(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gi(e,t,o))}function Pi(e,t,n,r,o){if(jo(n)){var a=!0;Ro(t)}else a=!1;if(Ta(t,o),null===t.stateNode)Bi(e,t),Ba(t,n,r),Ka(t,n,r,o),r=!0;else if(null===e){var l=t.stateNode,i=t.memoizedProps;l.props=i;var s=l.context,u=n.contextType;"object"==typeof u&&null!==u?u=Ca(u):u=No(t,u=jo(n)?Lo:Io.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof l.getSnapshotBeforeUpdate;d||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(i!==r||s!==u)&&Ga(t,l,r,u),La=!1;var f=t.memoizedState;l.state=f,$a(t,r,l,o),s=t.memoizedState,i!==r||f!==s||Ao.current||La?("function"==typeof c&&(Fa(t,n,c,r),s=t.memoizedState),(i=La||Va(t,n,i,r,f,s,u))?(d||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),l.props=r,l.state=s,l.context=u,r=i):("function"==typeof l.componentDidMount&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,ja(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:ya(t.type,i),l.props=u,d=t.pendingProps,f=l.context,"object"==typeof(s=n.contextType)&&null!==s?s=Ca(s):s=No(t,s=jo(n)?Lo:Io.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(i!==d||f!==s)&&Ga(t,l,r,s),La=!1,f=t.memoizedState,l.state=f,$a(t,r,l,o);var m=t.memoizedState;i!==d||f!==m||Ao.current||La?("function"==typeof p&&(Fa(t,n,p,r),m=t.memoizedState),(u=La||Va(t,n,u,r,f,m,s)||!1)?(c||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(r,m,s),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(r,m,s)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),l.props=r,l.state=m,l.context=s,r=u):("function"!=typeof l.componentDidUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||i===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ii(e,t,n,r,a,o)}function Ii(e,t,n,r,o,a){Ci(e,t);var l=!!(128&t.flags);if(!r&&!l)return o&&$o(t,n,!1),Gi(e,t,a);r=t.stateNode,wi.current=t;var i=l&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&l?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,i,a)):Si(e,t,i,a),t.memoizedState=r.state,o&&$o(t,n,!0),t.child}function Ai(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),ol(e,t.containerInfo)}function Li(e,t,n,r,o){return ma(),ga(o),t.flags|=256,Si(e,t,n,r),t.child}var Ni,ji,Mi,Di,Oi={dehydrated:null,treeContext:null,retryLane:0};function Ri(e){return{baseLanes:e,cachePool:null,transitions:null}}function $i(e,t,n){var r,o=t.pendingProps,l=sl.current,i=!1,s=!!(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&!!(2&l)),r?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(l|=1),xo(sl,1&l),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=o.children,e=o.fallback,i?(o=t.mode,i=t.child,s={mode:"hidden",children:s},1&o||null===i?i=Ru(s,o,0,null):(i.childLanes=0,i.pendingProps=s),e=Ou(e,o,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ri(n),t.memoizedState=Oi,e):zi(t,s));if(null!==(l=e.memoizedState)&&null!==(r=l.dehydrated))return function(e,t,n,r,o,l,i){if(n)return 256&t.flags?(t.flags&=-257,Ui(e,t,i,r=di(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=r.fallback,o=t.mode,r=Ru({mode:"visible",children:r.children},o,0,null),(l=Ou(l,o,i,null)).flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,1&t.mode&&Ya(t,e.child,null,i),t.child.memoizedState=Ri(i),t.memoizedState=Oi,l);if(!(1&t.mode))return Ui(e,t,i,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var s=r.dgst;return r=s,Ui(e,t,i,r=di(l=Error(a(419)),r,void 0))}if(s=!!(i&e.childLanes),bi||s){if(null!==(r=As)){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=o&(r.suspendedLanes|i)?0:o)&&o!==l.retryLane&&(l.retryLane=o,Aa(e,o),ru(r,e,o,-1))}return hu(),Ui(e,t,i,r=di(Error(a(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,oa=uo(o.nextSibling),ra=t,aa=!0,la=null,null!==e&&(Qo[qo++]=Yo,Qo[qo++]=Xo,Qo[qo++]=Jo,Yo=e.id,Xo=e.overflow,Jo=t),t=zi(t,r.children),t.flags|=4096,t)}(e,t,s,o,r,l,n);if(i){i=o.fallback,s=t.mode,r=(l=e.child).sibling;var u={mode:"hidden",children:o.children};return 1&s||t.child===l?(o=Mu(l,u)).subtreeFlags=14680064&l.subtreeFlags:((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null),null!==r?i=Mu(r,i):(i=Ou(i,s,n,null)).flags|=2,i.return=t,o.return=t,o.sibling=i,t.child=o,o=i,i=t.child,s=null===(s=e.child.memoizedState)?Ri(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Oi,o}return e=(i=e.child).sibling,o=Mu(i,{mode:"visible",children:o.children}),!(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function zi(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ui(e,t,n,r){return null!==r&&ga(r),Ya(t,e.child,null,n),(e=zi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fi(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Hi(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Vi(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Si(e,t,r.children,n),2&(r=sl.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fi(e,n,t);else if(19===e.tag)Fi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xo(sl,r),1&t.mode)switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ul(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Hi(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ul(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Hi(t,!0,n,null,a);break;case"together":Hi(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Bi(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rs|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Mu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ki(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qi(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wi(t),null;case 1:case 17:return jo(t.type)&&Mo(),Wi(t),null;case 3:return r=t.stateNode,al(),Co(Ao),Co(Io),dl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==la&&(iu(la),la=null))),ji(e,t),Wi(t),null;case 5:il(t);var o=rl(nl.current);if(n=t.type,null!==e&&null!=t.stateNode)Mi(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wi(t),null}if(e=rl(el.current),fa(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[po]=t,r[mo]=l,e=!!(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)zr(Dr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":J(r,l),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},zr("invalid",r);break;case"textarea":oe(r,l),zr("invalid",r)}for(var s in ve(n,l),o=null,l)if(l.hasOwnProperty(s)){var u=l[s];"children"===s?"string"==typeof u?r.textContent!==u&&(!0!==l.suppressHydrationWarning&&Xr(r.textContent,u,e),o=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==l.suppressHydrationWarning&&Xr(r.textContent,u,e),o=["children",""+u]):i.hasOwnProperty(s)&&null!=u&&"onScroll"===s&&zr("scroll",r)}switch(n){case"input":K(r),Z(r,l,!0);break;case"textarea":K(r),le(r);break;case"select":case"option":break;default:"function"==typeof l.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[po]=t,e[mo]=r,Ni(e,t,!1,!1),t.stateNode=e;e:{switch(s=we(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)zr(Dr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":J(e,r),o=q(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=R({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(l in ve(n,o),u=o)if(u.hasOwnProperty(l)){var c=u[l];"style"===l?he(e,c):"dangerouslySetInnerHTML"===l?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===l?"string"==typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"==typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(i.hasOwnProperty(l)?null!=c&&"onScroll"===l&&zr("scroll",e):null!=c&&w(e,l,c,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+B(r.value));break;case"select":e.multiple=!!r.multiple,null!=(l=r.value)?ne(e,!!r.multiple,l,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wi(t),null;case 6:if(e&&null!=t.stateNode)Di(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(a(166));if(n=rl(nl.current),rl(el.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(l=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:Xr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,!!(1&e.mode))}l&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Wi(t),null;case 13:if(Co(sl),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==oa&&1&t.mode&&!(128&t.flags))pa(),ma(),t.flags|=98560,l=!1;else if(l=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!l)throw Error(a(318));if(!(l=null!==(l=t.memoizedState)?l.dehydrated:null))throw Error(a(317));l[po]=t}else ma(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wi(t),l=!1}else null!==la&&(iu(la),la=null),l=!0;if(!l)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&sl.current?0===Ds&&(Ds=3):hu())),null!==t.updateQueue&&(t.flags|=4),Wi(t),null);case 4:return al(),ji(e,t),null===e&&Hr(t.stateNode.containerInfo),Wi(t),null;case 10:return Ea(t.type._context),Wi(t),null;case 19:if(Co(sl),null===(l=t.memoizedState))return Wi(t),null;if(r=!!(128&t.flags),null===(s=l.rendering))if(r)Ki(l,!1);else{if(0!==Ds||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(s=ul(e))){for(t.flags|=128,Ki(l,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(l=n).flags&=14680066,null===(s=l.alternate)?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,e=s.dependencies,l.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xo(sl,1&sl.current|2),t.child}e=e.sibling}null!==l.tail&&Ye()>Vs&&(t.flags|=128,r=!0,Ki(l,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ul(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ki(l,!0),null===l.tail&&"hidden"===l.tailMode&&!s.alternate&&!aa)return Wi(t),null}else 2*Ye()-l.renderingStartTime>Vs&&1073741824!==n&&(t.flags|=128,r=!0,Ki(l,!1),t.lanes=4194304);l.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=l.last)?n.sibling=s:t.child=s,l.last=s)}return null!==l.tail?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ye(),t.sibling=null,n=sl.current,xo(sl,r?1&n|2:1&n),t):(Wi(t),null);case 22:case 23:return fu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&js)&&(Wi(t),6&t.subtreeFlags&&(t.flags|=8192)):Wi(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function qi(e,t){switch(na(t),t.tag){case 1:return jo(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return al(),Co(Ao),Co(Io),dl(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return il(t),null;case 13:if(Co(sl),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));ma()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(sl),null;case 4:return al(),null;case 10:return Ea(t.type._context),null;case 22:case 23:return fu(),null;default:return null}}Ni=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ji=function(){},Mi=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,rl(el.current);var a,l=null;switch(n){case"input":o=q(e,o),r=q(e,r),l=[];break;case"select":o=R({},o,{value:void 0}),r=R({},r,{value:void 0}),l=[];break;case"textarea":o=re(e,o),r=re(e,r),l=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(e.onclick=Zr)}for(c in ve(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var s=o[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(i.hasOwnProperty(c)?l||(l=[]):(l=l||[]).push(c,null));for(c in r){var u=r[c];if(s=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==s&&(null!=u||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&s[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(l||(l=[]),l.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(l=l||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(l=l||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(i.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),l||s===u||(l=[])):(l=l||[]).push(c,u))}n&&(l=l||[]).push("style",n);var c=l;(t.updateQueue=c)&&(t.flags|=4)}},Di=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ji=!1,Yi=!1,Xi="function"==typeof WeakSet?WeakSet:Set,Zi=null;function es(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Tu(e,t,n)}else n.current=null}function ts(e,t,n){try{n()}catch(n){Tu(e,t,n)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&ts(t,n,a)}o=o.next}while(o!==r)}}function os(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ls(e){var t=e.alternate;null!==t&&(e.alternate=null,ls(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[mo],delete t[ho],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function is(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||is(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function us(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(us(e,t,n),e=e.sibling;null!==e;)us(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ds=null,fs=!1;function ps(e,t,n){for(n=n.child;null!==n;)ms(e,t,n),n=n.sibling}function ms(e,t,n){if(at&&"function"==typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(ot,n)}catch(e){}switch(n.tag){case 5:Yi||es(n,t);case 6:var r=ds,o=fs;ds=null,ps(e,t,n),fs=o,null!==(ds=r)&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ds.removeChild(n.stateNode));break;case 18:null!==ds&&(fs?(e=ds,n=n.stateNode,8===e.nodeType?so(e.parentNode,n):1===e.nodeType&&so(e,n),Ht(e)):so(ds,n.stateNode));break;case 4:r=ds,o=fs,ds=n.stateNode.containerInfo,fs=!0,ps(e,t,n),ds=r,fs=o;break;case 0:case 11:case 14:case 15:if(!Yi&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var a=o,l=a.destroy;a=a.tag,void 0!==l&&(2&a||4&a)&&ts(n,t,l),o=o.next}while(o!==r)}ps(e,t,n);break;case 1:if(!Yi&&(es(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Tu(n,t,e)}ps(e,t,n);break;case 21:ps(e,t,n);break;case 22:1&n.mode?(Yi=(r=Yi)||null!==n.memoizedState,ps(e,t,n),Yi=r):ps(e,t,n);break;default:ps(e,t,n)}}function gs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xi),t.forEach((function(t){var r=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var l=e,i=t,s=i;e:for(;null!==s;){switch(s.tag){case 5:ds=s.stateNode,fs=!1;break e;case 3:case 4:ds=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ds)throw Error(a(160));ms(l,i,o),ds=null,fs=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(e){Tu(o,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),vs(e),4&r){try{rs(3,e,e.return),os(3,e)}catch(t){Tu(e,e.return,t)}try{rs(5,e,e.return)}catch(t){Tu(e,e.return,t)}}break;case 1:hs(t,e),vs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(hs(t,e),vs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(t){Tu(e,e.return,t)}}if(4&r&&null!=(o=e.stateNode)){var l=e.memoizedProps,i=null!==n?n.memoizedProps:l,s=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===s&&"radio"===l.type&&null!=l.name&&Y(o,l),we(s,i);var c=we(s,l);for(i=0;i<u.length;i+=2){var d=u[i],f=u[i+1];"style"===d?he(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):w(o,d,f,c)}switch(s){case"input":X(o,l);break;case"textarea":ae(o,l);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var m=l.value;null!=m?ne(o,!!l.multiple,m,!1):p!==!!l.multiple&&(null!=l.defaultValue?ne(o,!!l.multiple,l.defaultValue,!0):ne(o,!!l.multiple,l.multiple?[]:"",!1))}o[mo]=l}catch(t){Tu(e,e.return,t)}}break;case 6:if(hs(t,e),vs(e),4&r){if(null===e.stateNode)throw Error(a(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(t){Tu(e,e.return,t)}}break;case 3:if(hs(t,e),vs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(t){Tu(e,e.return,t)}break;case 4:default:hs(t,e),vs(e);break;case 13:hs(t,e),vs(e),8192&(o=e.child).flags&&(l=null!==o.memoizedState,o.stateNode.isHidden=l,!l||null!==o.alternate&&null!==o.alternate.memoizedState||(Hs=Ye())),4&r&&gs(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Yi=(c=Yi)||d,hs(t,e),Yi=c):hs(t,e),vs(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Zi=e,d=e.child;null!==d;){for(f=Zi=d;null!==Zi;){switch(m=(p=Zi).child,p.tag){case 0:case 11:case 14:case 15:rs(4,p,p.return);break;case 1:es(p,p.return);var g=p.stateNode;if("function"==typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(e){Tu(r,n,e)}}break;case 5:es(p,p.return);break;case 22:if(null!==p.memoizedState){_s(f);continue}}null!==m?(m.return=p,Zi=m):_s(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,c?"function"==typeof(l=o.style).setProperty?l.setProperty("display","none","important"):l.display="none":(s=f.stateNode,i=null!=(u=f.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,s.style.display=ge("display",i))}catch(t){Tu(e,e.return,t)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(t){Tu(e,e.return,t)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:hs(t,e),vs(e),4&r&&gs(e);case 21:}}function vs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(is(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),cs(e,ss(e),o);break;case 3:case 4:var l=r.stateNode.containerInfo;us(e,ss(e),l);break;default:throw Error(a(161))}}catch(t){Tu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ws(e,t,n){Zi=e,bs(e,t,n)}function bs(e,t,n){for(var r=!!(1&e.mode);null!==Zi;){var o=Zi,a=o.child;if(22===o.tag&&r){var l=null!==o.memoizedState||Ji;if(!l){var i=o.alternate,s=null!==i&&null!==i.memoizedState||Yi;i=Ji;var u=Yi;if(Ji=l,(Yi=s)&&!u)for(Zi=o;null!==Zi;)s=(l=Zi).child,22===l.tag&&null!==l.memoizedState?Es(o):null!==s?(s.return=l,Zi=s):Es(o);for(;null!==a;)Zi=a,bs(a,t,n),a=a.sibling;Zi=o,Ji=i,Yi=u}Ss(e)}else 8772&o.subtreeFlags&&null!==a?(a.return=o,Zi=a):Ss(e)}}function Ss(e){for(;null!==Zi;){var t=Zi;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Yi||os(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yi)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;null!==l&&za(t,l,r);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}za(t,i,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ht(f)}}}break;default:throw Error(a(163))}Yi||512&t.flags&&as(t)}catch(e){Tu(t,t.return,e)}}if(t===e){Zi=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zi=n;break}Zi=t.return}}function _s(e){for(;null!==Zi;){var t=Zi;if(t===e){Zi=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zi=n;break}Zi=t.return}}function Es(e){for(;null!==Zi;){var t=Zi;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(e){Tu(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(e){Tu(t,o,e)}}var a=t.return;try{as(t)}catch(e){Tu(t,a,e)}break;case 5:var l=t.return;try{as(t)}catch(e){Tu(t,l,e)}}}catch(e){Tu(t,t.return,e)}if(t===e){Zi=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Zi=i;break}Zi=t.return}}var ks,Ts=Math.ceil,Cs=b.ReactCurrentDispatcher,xs=b.ReactCurrentOwner,Ps=b.ReactCurrentBatchConfig,Is=0,As=null,Ls=null,Ns=0,js=0,Ms=To(0),Ds=0,Os=null,Rs=0,$s=0,zs=0,Us=null,Fs=null,Hs=0,Vs=1/0,Bs=null,Gs=!1,Ks=null,Ws=null,Qs=!1,qs=null,Js=0,Ys=0,Xs=null,Zs=-1,eu=0;function tu(){return 6&Is?Ye():-1!==Zs?Zs:Zs=Ye()}function nu(e){return 1&e.mode?2&Is&&0!==Ns?Ns&-Ns:null!==ha.transition?(0===eu&&(eu=gt()),eu):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type):1}function ru(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));yt(e,n,r),2&Is&&e===As||(e===As&&(!(2&Is)&&($s|=n),4===Ds&&su(e,Ns)),ou(e,r),1===n&&0===Is&&!(1&t.mode)&&(Vs=Ye()+500,Uo&&Vo()))}function ou(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-lt(a),i=1<<l,s=o[l];-1===s?i&n&&!(i&r)||(o[l]=pt(i,t)):s<=t&&(e.expiredLanes|=i),a&=~i}}(e,t);var r=ft(e,e===As?Ns:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Uo=!0,Ho(e)}(uu.bind(null,e)):Ho(uu.bind(null,e)),lo((function(){!(6&Is)&&Vo()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,au.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function au(e,t){if(Zs=-1,eu=0,6&Is)throw Error(a(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=ft(e,e===As?Ns:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=yu(e,r);else{t=r;var o=Is;Is|=2;var l=gu();for(As===e&&Ns===t||(Bs=null,Vs=Ye()+500,pu(e,t));;)try{wu();break}catch(t){mu(e,t)}_a(),Cs.current=l,Is=o,null!==Ls?t=0:(As=null,Ns=0,t=Ds)}if(0!==t){if(2===t&&(0!==(o=mt(e))&&(r=o,t=lu(e,o))),1===t)throw n=Os,pu(e,0),su(e,r),ou(e,Ye()),n;if(6===t)su(e,r);else{if(o=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!ir(a(),o))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)||(t=yu(e,r),2===t&&(l=mt(e),0!==l&&(r=l,t=lu(e,l))),1!==t)))throw n=Os,pu(e,0),su(e,r),ou(e,Ye()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_u(e,Fs,Bs);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Hs+500-Ye())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){tu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(_u.bind(null,e,Fs,Bs),t);break}_u(e,Fs,Bs);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var i=31-lt(r);l=1<<i,(i=t[i])>o&&(o=i),r&=~l}if(r=o,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ts(r/1960))-r)){e.timeoutHandle=ro(_u.bind(null,e,Fs,Bs),r);break}_u(e,Fs,Bs);break;default:throw Error(a(329))}}}return ou(e,Ye()),e.callbackNode===n?au.bind(null,e):null}function lu(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Fs,Fs=n,null!==t&&iu(t)),e}function iu(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function su(e,t){for(t&=~zs,t&=~$s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function uu(e){if(6&Is)throw Error(a(327));Eu();var t=ft(e,0);if(!(1&t))return ou(e,Ye()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=lu(e,r))}if(1===n)throw n=Os,pu(e,0),su(e,t),ou(e,Ye()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,Fs,Bs),ou(e,Ye()),null}function cu(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Vs=Ye()+500,Uo&&Vo())}}function du(e){null!==qs&&0===qs.tag&&!(6&Is)&&Eu();var t=Is;Is|=1;var n=Ps.transition,r=wt;try{if(Ps.transition=null,wt=1,e)return e()}finally{wt=r,Ps.transition=n,!(6&(Is=t))&&Vo()}}function fu(){js=Ms.current,Co(Ms)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&Mo();break;case 3:al(),Co(Ao),Co(Io),dl();break;case 5:il(r);break;case 4:al();break;case 13:case 19:Co(sl);break;case 10:Ea(r.type._context);break;case 22:case 23:fu()}n=n.return}if(As=e,Ls=e=Mu(e.current,null),Ns=js=t,Ds=0,Os=null,zs=$s=Rs=0,Fs=Us=null,null!==xa){for(t=0;t<xa.length;t++)if(null!==(r=(n=xa[t]).interleaved)){n.interleaved=null;var o=r.next,a=n.pending;if(null!==a){var l=a.next;a.next=o,r.next=l}n.pending=r}xa=null}return e}function mu(e,t){for(;;){var n=Ls;try{if(_a(),fl.current=li,vl){for(var r=gl.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}vl=!1}if(ml=0,yl=hl=gl=null,wl=!1,bl=0,xs.current=null,null===n||null===n.return){Ds=1,Os=t,Ls=null;break}e:{var l=e,i=n.return,s=n,u=t;if(t=Ns,s.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=s,f=d.tag;if(!(1&d.mode||0!==f&&11!==f&&15!==f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=yi(i);if(null!==m){m.flags&=-257,vi(m,i,s,0,t),1&m.mode&&hi(l,c,t),u=c;var g=(t=m).updateQueue;if(null===g){var h=new Set;h.add(u),t.updateQueue=h}else g.add(u);break e}if(!(1&t)){hi(l,c,t),hu();break e}u=Error(a(426))}else if(aa&&1&s.mode){var y=yi(i);if(null!==y){!(65536&y.flags)&&(y.flags|=256),vi(y,i,s,0,t),ga(ci(u,s));break e}}l=u=ci(u,s),4!==Ds&&(Ds=2),null===Us?Us=[l]:Us.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t,Ra(l,mi(0,u,t));break e;case 1:s=u;var v=l.type,w=l.stateNode;if(!(128&l.flags||"function"!=typeof v.getDerivedStateFromError&&(null===w||"function"!=typeof w.componentDidCatch||null!==Ws&&Ws.has(w)))){l.flags|=65536,t&=-t,l.lanes|=t,Ra(l,gi(l,s,t));break e}}l=l.return}while(null!==l)}Su(n)}catch(e){t=e,Ls===n&&null!==n&&(Ls=n=n.return);continue}break}}function gu(){var e=Cs.current;return Cs.current=li,null===e?li:e}function hu(){0!==Ds&&3!==Ds&&2!==Ds||(Ds=4),null===As||!(268435455&Rs)&&!(268435455&$s)||su(As,Ns)}function yu(e,t){var n=Is;Is|=2;var r=gu();for(As===e&&Ns===t||(Bs=null,pu(e,t));;)try{vu();break}catch(t){mu(e,t)}if(_a(),Is=n,Cs.current=r,null!==Ls)throw Error(a(261));return As=null,Ns=0,Ds}function vu(){for(;null!==Ls;)bu(Ls)}function wu(){for(;null!==Ls&&!qe();)bu(Ls)}function bu(e){var t=ks(e.alternate,e,js);e.memoizedProps=e.pendingProps,null===t?Su(e):Ls=t,xs.current=null}function Su(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=qi(n,t)))return n.flags&=32767,void(Ls=n);if(null===e)return Ds=6,void(Ls=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Qi(n,t,js)))return void(Ls=n);if(null!==(t=t.sibling))return void(Ls=t);Ls=t=e}while(null!==t);0===Ds&&(Ds=5)}function _u(e,t,n){var r=wt,o=Ps.transition;try{Ps.transition=null,wt=1,function(e,t,n,r){do{Eu()}while(null!==qs);if(6&Is)throw Error(a(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-lt(n),a=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~a}}(e,l),e===As&&(Ls=As=null,Ns=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Qs||(Qs=!0,Au(tt,(function(){return Eu(),null}))),l=!!(15990&n.flags),!!(15990&n.subtreeFlags)||l){l=Ps.transition,Ps.transition=null;var i=wt;wt=1;var s=Is;Is|=4,xs.current=null,function(e,t){if(eo=Bt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch(e){n=null;break e}var i=0,s=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||0!==o&&3!==f.nodeType||(s=i+o),f!==l||0!==r&&3!==f.nodeType||(u=i+r),3===f.nodeType&&(i+=f.nodeValue.length),null!==(m=f.firstChild);)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++c===o&&(s=i),p===l&&++d===r&&(u=i),null!==(m=f.nextSibling))break;p=(f=p).parentNode}f=m}n=-1===s||-1===u?null:{start:s,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Bt=!1,Zi=t;null!==Zi;)if(e=(t=Zi).child,1028&t.subtreeFlags&&null!==e)e.return=t,Zi=e;else for(;null!==Zi;){t=Zi;try{var g=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var h=g.memoizedProps,y=g.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?h:ya(t.type,h),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(e){Tu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Zi=e;break}Zi=t.return}g=ns,ns=!1}(e,n),ys(n,e),mr(to),Bt=!!eo,to=eo=null,e.current=n,ws(n,e,o),Je(),Is=s,wt=i,Ps.transition=l}else e.current=n;if(Qs&&(Qs=!1,qs=e,Js=o),l=e.pendingLanes,0===l&&(Ws=null),function(e){if(at&&"function"==typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(ot,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),ou(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Gs)throw Gs=!1,e=Ks,Ks=null,e;!!(1&Js)&&0!==e.tag&&Eu(),l=e.pendingLanes,1&l?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Vo()}(e,t,n,r)}finally{Ps.transition=o,wt=r}return null}function Eu(){if(null!==qs){var e=bt(Js),t=Ps.transition,n=wt;try{if(Ps.transition=null,wt=16>e?16:e,null===qs)var r=!1;else{if(e=qs,qs=null,Js=0,6&Is)throw Error(a(331));var o=Is;for(Is|=4,Zi=e.current;null!==Zi;){var l=Zi,i=l.child;if(16&Zi.flags){var s=l.deletions;if(null!==s){for(var u=0;u<s.length;u++){var c=s[u];for(Zi=c;null!==Zi;){var d=Zi;switch(d.tag){case 0:case 11:case 15:rs(8,d,l)}var f=d.child;if(null!==f)f.return=d,Zi=f;else for(;null!==Zi;){var p=(d=Zi).sibling,m=d.return;if(ls(d),d===c){Zi=null;break}if(null!==p){p.return=m,Zi=p;break}Zi=m}}}var g=l.alternate;if(null!==g){var h=g.child;if(null!==h){g.child=null;do{var y=h.sibling;h.sibling=null,h=y}while(null!==h)}}Zi=l}}if(2064&l.subtreeFlags&&null!==i)i.return=l,Zi=i;else e:for(;null!==Zi;){if(2048&(l=Zi).flags)switch(l.tag){case 0:case 11:case 15:rs(9,l,l.return)}var v=l.sibling;if(null!==v){v.return=l.return,Zi=v;break e}Zi=l.return}}var w=e.current;for(Zi=w;null!==Zi;){var b=(i=Zi).child;if(2064&i.subtreeFlags&&null!==b)b.return=i,Zi=b;else e:for(i=w;null!==Zi;){if(2048&(s=Zi).flags)try{switch(s.tag){case 0:case 11:case 15:os(9,s)}}catch(e){Tu(s,s.return,e)}if(s===i){Zi=null;break e}var S=s.sibling;if(null!==S){S.return=s.return,Zi=S;break e}Zi=s.return}}if(Is=o,Vo(),at&&"function"==typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(ot,e)}catch(e){}r=!0}return r}finally{wt=n,Ps.transition=t}}return!1}function ku(e,t,n){e=Da(e,t=mi(0,t=ci(n,t),1),1),t=tu(),null!==e&&(yt(e,1,t),ou(e,t))}function Tu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Da(t,e=gi(t,e=ci(n,e),1),1),e=tu(),null!==t&&(yt(t,1,e),ou(t,e));break}}t=t.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ns&n)===n&&(4===Ds||3===Ds&&(130023424&Ns)===Ns&&500>Ye()-Hs?pu(e,0):zs|=n),ou(e,t)}function xu(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var n=tu();null!==(e=Aa(e,t))&&(yt(e,t,n),ou(e,n))}function Pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),xu(e,n)}function Au(e,t){return We(e,t)}function Lu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Lu(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,o,l){var i=2;if(r=e,"function"==typeof e)ju(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case E:return Ou(n.children,o,l,t);case k:i=8,o|=8;break;case T:return(e=Nu(12,n,t,2|o)).elementType=T,e.lanes=l,e;case I:return(e=Nu(13,n,t,o)).elementType=I,e.lanes=l,e;case A:return(e=Nu(19,n,t,o)).elementType=A,e.lanes=l,e;case j:return Ru(n,o,l,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case x:i=9;break e;case P:i=11;break e;case L:i=14;break e;case N:i=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Nu(i,n,t,o)).elementType=e,t.type=r,t.lanes=l,t}function Ou(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Ru(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function $u(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function zu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ht(0),this.expirationTimes=ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ht(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fu(e,t,n,r,o,a,l,i,s){return e=new Uu(e,t,n,i,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Nu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Na(a),e}function Hu(e){if(!e)return Po;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(jo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(jo(n))return Oo(e,n,t)}return t}function Vu(e,t,n,r,o,a,l,i,s){return(e=Fu(n,r,!0,e,0,a,0,i,s)).context=Hu(null),n=e.current,(a=Ma(r=tu(),o=nu(n))).callback=null!=t?t:null,Da(n,a,o),e.current.lanes=o,yt(e,o,r),ou(e,r),e}function Bu(e,t,n,r){var o=t.current,a=tu(),l=nu(o);return n=Hu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ma(a,l)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Da(o,t,l))&&(ru(e,o,l,a),Oa(e,o,l)),l}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ku(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Ku(e,t),(e=e.alternate)&&Ku(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ao.current)bi=!0;else{if(!(e.lanes&n||128&t.flags))return bi=!1,function(e,t,n){switch(t.tag){case 3:Ai(t),ma();break;case 5:ll(t);break;case 1:jo(t.type)&&Ro(t);break;case 4:ol(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;xo(va,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xo(sl,1&sl.current),t.flags|=128,null):n&t.child.childLanes?$i(e,t,n):(xo(sl,1&sl.current),null!==(e=Gi(e,t,n))?e.sibling:null);xo(sl,1&sl.current);break;case 19:if(r=!!(n&t.childLanes),128&e.flags){if(r)return Vi(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),xo(sl,sl.current),r)break;return null;case 22:case 23:return t.lanes=0,Ti(e,t,n)}return Gi(e,t,n)}(e,t,n);bi=!!(131072&e.flags)}else bi=!1,aa&&1048576&t.flags&&ea(t,Wo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bi(e,t),e=t.pendingProps;var o=No(t,Io.current);Ta(t,n),o=kl(null,t,r,e,o,n);var l=Tl();return t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,jo(r)?(l=!0,Ro(t)):l=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Na(t),o.updater=Ha,t.stateNode=o,o._reactInternals=t,Ka(t,r,e,n),t=Ii(null,t,r,!0,l,n)):(t.tag=0,aa&&l&&ta(t),Si(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bi(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"==typeof e)return ju(e)?1:0;if(null!=e){if((e=e.$$typeof)===P)return 11;if(e===L)return 14}return 2}(r),e=ya(r,e),o){case 0:t=xi(null,t,r,e,n);break e;case 1:t=Pi(null,t,r,e,n);break e;case 11:t=_i(null,t,r,e,n);break e;case 14:t=Ei(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,xi(e,t,r,o=t.elementType===r?o:ya(r,o),n);case 1:return r=t.type,o=t.pendingProps,Pi(e,t,r,o=t.elementType===r?o:ya(r,o),n);case 3:e:{if(Ai(t),null===e)throw Error(a(387));r=t.pendingProps,o=(l=t.memoizedState).element,ja(e,t),$a(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated){if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,256&t.flags){t=Li(e,t,r,n,o=ci(Error(a(423)),t));break e}if(r!==o){t=Li(e,t,r,n,o=ci(Error(a(424)),t));break e}for(oa=uo(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,la=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ma(),r===o){t=Gi(e,t,n);break e}Si(e,t,r,n)}t=t.child}return t;case 5:return ll(t),null===e&&ca(t),r=t.type,o=t.pendingProps,l=null!==e?e.memoizedProps:null,i=o.children,no(r,o)?i=null:null!==l&&no(r,l)&&(t.flags|=32),Ci(e,t),Si(e,t,i,n),t.child;case 6:return null===e&&ca(t),null;case 13:return $i(e,t,n);case 4:return ol(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):Si(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,_i(e,t,r,o=t.elementType===r?o:ya(r,o),n);case 7:return Si(e,t,t.pendingProps,n),t.child;case 8:case 12:return Si(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,l=t.memoizedProps,i=o.value,xo(va,r._currentValue),r._currentValue=i,null!==l)if(ir(l.value,i)){if(l.children===o.children&&!Ao.current){t=Gi(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var s=l.dependencies;if(null!==s){i=l.child;for(var u=s.firstContext;null!==u;){if(u.context===r){if(1===l.tag){(u=Ma(-1,n&-n)).tag=2;var c=l.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),ka(l.return,n,t),s.lanes|=n;break}u=u.next}}else if(10===l.tag)i=l.type===t.type?null:l.child;else if(18===l.tag){if(null===(i=l.return))throw Error(a(341));i.lanes|=n,null!==(s=i.alternate)&&(s.lanes|=n),ka(i,n,t),i=l.sibling}else i=l.child;if(null!==i)i.return=l;else for(i=l;null!==i;){if(i===t){i=null;break}if(null!==(l=i.sibling)){l.return=i.return,i=l;break}i=i.return}l=i}Si(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ta(t,n),r=r(o=Ca(o)),t.flags|=1,Si(e,t,r,n),t.child;case 14:return o=ya(r=t.type,t.pendingProps),Ei(e,t,r,o=ya(r.type,o),n);case 15:return ki(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:ya(r,o),Bi(e,t),t.tag=1,jo(r)?(e=!0,Ro(t)):e=!1,Ta(t,n),Ba(t,r,o),Ka(t,r,o,n),Ii(null,t,r,!0,e,n);case 19:return Vi(e,t,n);case 22:return Ti(e,t,n)}throw Error(a(156,t.tag))};var Qu="function"==typeof reportError?reportError:function(e){console.error(e)};function qu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zu(){}function ec(e,t,n,r,o){var a=n._reactRootContainer;if(a){var l=a;if("function"==typeof o){var i=o;o=function(){var e=Gu(l);i.call(e)}}Bu(t,l,e,o)}else l=function(e,t,n,r,o){if(o){if("function"==typeof r){var a=r;r=function(){var e=Gu(l);a.call(e)}}var l=Vu(t,r,e,0,null,!1,0,"",Zu);return e._reactRootContainer=l,e[go]=l.current,Hr(8===e.nodeType?e.parentNode:e),du(),l}for(;o=e.lastChild;)e.removeChild(o);if("function"==typeof r){var i=r;r=function(){var e=Gu(s);i.call(e)}}var s=Fu(e,0,!1,null,0,!1,0,"",Zu);return e._reactRootContainer=s,e[go]=s.current,Hr(8===e.nodeType?e.parentNode:e),du((function(){Bu(t,s,n,r)})),s}(n,t,e,o,r);return Gu(l)}Ju.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bu(e,t,null,null)},Ju.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;du((function(){Bu(null,e,null,null)})),t[go]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Rt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ou(t,Ye()),!(6&Is)&&(Vs=Ye()+500,Vo()))}break;case 13:du((function(){var t=Aa(e,1);if(null!==t){var n=tu();ru(t,e,1,n)}})),Wu(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)ru(t,e,134217728,tu());Wu(e,134217728)}},Et=function(e){if(13===e.tag){var t=nu(e),n=Aa(e,t);if(null!==n)ru(n,e,t,tu());Wu(e,t)}},kt=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=_o(r);if(!o)throw Error(a(90));W(r),X(r,o)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Pe=cu,Ie=du;var tc={usingClientEntryPoint:!1,Events:[bo,So,_o,Ce,xe,cu]},nc={findFiberByHostInstance:wo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{ot=oc.inject(rc),at=oc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(a(299));var n=!1,r="",o=Qu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fu(e,1,!1,null,0,n,0,r,o),e[go]=t.current,Hr(8===e.nodeType?e.parentNode:e),new qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return du(e)},t.hydrate=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,o=!1,l="",i=Qu;if(null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(l=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,o,0,l,i),e[go]=t.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ju(t)},t.render=function(e,t,n){if(!Xu(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xu(e))throw Error(a(40));return!!e._reactRootContainer&&(du((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[go]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xu(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},338:(e,t,n)=>{var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},20:(e,t,n)=>{
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var r=n(540),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)l.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:a,_owner:i.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},287:(e,t)=>{
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,h={};function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,g(b,y.prototype),b.isPureReactComponent=!0;var S=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var o,a={},l=null,i=null;if(null!=t)for(o in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(l=""+t.key),t)_.call(t,o)&&!k.hasOwnProperty(o)&&(a[o]=t[o]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(o in s=e.defaultProps)void 0===a[o]&&(a[o]=s[o]);return{$$typeof:n,type:e,key:l,ref:i,props:a,_owner:E.current}}function C(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function P(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,o,a,l){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var s=!1;if(null===e)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return l=l(s=e),e=""===a?"."+P(s,0):a,S(l)?(o="",null!=e&&(o=e.replace(x,"$&/")+"/"),I(l,t,o,"",(function(e){return e}))):null!=l&&(C(l)&&(l=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(l,o+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(x,"$&/")+"/")+e)),t.push(l)),1;if(s=0,a=""===a?".":a+":",S(e))for(var u=0;u<e.length;u++){var c=a+P(i=e[u],u);s+=I(i,t,o,c,l)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)s+=I(i=i.value,t,o,c=a+P(i,u++),l);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],o=0;return I(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},j={transition:null},M={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:j,ReactCurrentOwner:E};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=l,t.PureComponent=w,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=g({},e.props),a=e.key,l=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(l=t.ref,i=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(u in t)_.call(t,u)&&!k.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==s?s[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){s=Array(u);for(var c=0;c<u;c++)s[c]=arguments[c+2];o.children=s}return{$$typeof:n,type:e.type,key:a,ref:l,props:o,_owner:i}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},540:(e,t,n)=>{e.exports=n(287)},848:(e,t,n)=>{e.exports=n(20)},463:(e,t)=>{
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,l=o>>>1;r<l;){var i=2*(r+1)-1,s=e[i],u=i+1,c=e[u];if(0>a(s,n))u<o&&0>a(c,s)?(e[r]=c,e[u]=n,r=u):(e[r]=s,e[i]=n,r=i);else{if(!(u<o&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var l=performance;t.unstable_now=function(){return l.now()}}else{var i=Date,s=i.now();t.unstable_now=function(){return i.now()-s}}var u=[],c=[],d=1,f=null,p=3,m=!1,g=!1,h=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(h=!1,b(e),!g)if(null!==r(u))g=!0,j(_);else{var t=r(c);null!==t&&M(S,t.startTime-e)}}function _(e,n){g=!1,h&&(h=!1,v(C),C=-1),m=!0;var a=p;try{for(b(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!I());){var l=f.callback;if("function"==typeof l){f.callback=null,p=f.priorityLevel;var i=l(f.expirationTime<=n);n=t.unstable_now(),"function"==typeof i?f.callback=i:f===r(u)&&o(u),b(n)}else o(u);f=r(u)}if(null!==f)var s=!0;else{var d=r(c);null!==d&&M(S,d.startTime-n),s=!1}return s}finally{f=null,p=a,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,k=!1,T=null,C=-1,x=5,P=-1;function I(){return!(t.unstable_now()-P<x)}function A(){if(null!==T){var e=t.unstable_now();P=e;var n=!0;try{n=T(!0,e)}finally{n?E():(k=!1,T=null)}}else k=!1}if("function"==typeof w)E=function(){w(A)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,N=L.port2;L.port1.onmessage=A,E=function(){N.postMessage(null)}}else E=function(){y(A,0)};function j(e){T=e,k||(k=!0,E())}function M(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,j(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,a){var l=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?l+a:l:a=l,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:i=a+i,sortIndex:-1},a>l?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(h?(v(C),C=-1):h=!0,M(S,a-l))):(e.sortIndex=i,n(u,e),g||m||(g=!0,j(_))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},982:(e,t,n)=>{e.exports=n(463)}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var a=r[e]={exports:{}};return n[e](a,a.exports,o),a.exports}o.m=n,o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".index.js",o.miniCssF=e=>e+".styles.css",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="jjdd-huatu:",o.l=(n,r,a,l)=>{if(e[n])e[n].push(r);else{var i,s;if(void 0!==a)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){i=d;break}}i||(s=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,o.nc&&i.setAttribute("nonce",o.nc),i.setAttribute("data-webpack",t+a),i.src=n),e[n]=[r];var f=(t,r)=>{i.onerror=i.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=f.bind(null,i.onerror),i.onload=f.bind(null,i.onload),s&&document.head.appendChild(i)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{if("undefined"!=typeof document){var e=e=>new Promise(((t,n)=>{var r=o.miniCssF(e),a=o.p+r;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(l=n[r]).getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(o===e||o===t))return l}var a=document.getElementsByTagName("style");for(r=0;r<a.length;r++){var l;if((o=(l=a[r]).getAttribute("data-href"))===e||o===t)return l}})(r,a))return t();((e,t,n,r,a)=>{var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",o.nc&&(l.nonce=o.nc),l.onerror=l.onload=n=>{if(l.onerror=l.onload=null,"load"===n.type)r();else{var o=n&&n.type,i=n&&n.target&&n.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+i+")");s.name="ChunkLoadError",s.code="CSS_CHUNK_LOAD_FAILED",s.type=o,s.request=i,l.parentNode&&l.parentNode.removeChild(l),a(s)}},l.href=t,n?n.parentNode.insertBefore(l,n.nextSibling):document.head.appendChild(l)})(e,a,null,t,n)})),t={792:0};o.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{519:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={792:0};o.f.j=(t,n)=>{var r=o.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=a);var l=o.p+o.u(t),i=new Error;o.l(l,(n=>{if(o.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var a=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+a+": "+l+")",i.name="ChunkLoadError",i.type=a,i.request=l,r[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,a,l=n[0],i=n[1],s=n[2],u=0;if(l.some((t=>0!==e[t]))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(s)s(o)}for(t&&t(n);u<l.length;u++)a=l[u],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkjjdd_huatu=self.webpackChunkjjdd_huatu||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=o(540),t=o(338),n=o(961),r=o(169),a=o(106),l=o(440),i=o(960),s=o(848);const u=(0,e.lazy)((()=>o.e(519).then(o.bind(o,519)))),c=(0,e.lazy)((()=>o.e(871).then(o.bind(o,871))));function d(){return(0,s.jsxs)("div",{className:"loading-placeholder",children:[(0,s.jsx)("div",{className:"spinner"}),(0,s.jsx)("p",{children:"正在加载组件..."})]})}function f(){return(0,i.A)(),null}const p=function(t){let{panelContainerId:o="jjdd_huatu_panel_container"}=t;const[i]=(0,e.useState)("true"===new URLSearchParams(window.location.search).get("debug"));(0,e.useEffect)((()=>{const e=e=>{console.log("接收到切换设置界面事件",e.detail)},t=e=>{console.log("接收到生成图片事件",e.detail)},n=e=>{console.log("接收到直接生成图片事件",e.detail)};return document.addEventListener("jjdd_huatu_toggle_settings",e),document.addEventListener("jjdd_huatu_generate",t),document.addEventListener("jjdd_huatu_generate_direct",n),()=>{document.removeEventListener("jjdd_huatu_toggle_settings",e),document.removeEventListener("jjdd_huatu_generate",t),document.removeEventListener("jjdd_huatu_generate_direct",n)}}),[]);const p=document.getElementById(o);return(0,s.jsx)(l.nl,{children:(0,s.jsx)(r.QN,{children:(0,s.jsxs)(a.R,{children:[(0,s.jsx)(f,{}),(0,s.jsx)("div",{className:"jjdd-huatu-container",children:i&&(0,s.jsx)(e.Suspense,{fallback:(0,s.jsx)(d,{}),children:(0,s.jsx)(c,{})})}),p&&(0,n.createPortal)((0,s.jsx)(e.Suspense,{fallback:(0,s.jsx)(d,{}),children:(0,s.jsx)(u,{})}),p)]})})})};var m=o(932);const g=async()=>{console.group("画图功能测试");try{console.log("测试获取SillyTavern上下文...");const e=window.SillyTavern?.getContext?.()||("function"==typeof window.getContext?window.getContext():null);console.log("上下文:",e?"获取成功":"获取失败");const t=localStorage.getItem("jjdd_huatu_image_display_mode")||"未设置";console.log("当前设置的显示模式:",t);const n=document.querySelectorAll(".custom-image-prompt-button, .image-prompt-button");console.log(`找到${n.length}个可用的画图按钮`);const r=localStorage.getItem("jjdd_huatu_api_key")||"";console.log("API密钥:",r?"已设置":"未设置"),(0,m.P0)("调试信息已输出到控制台",2e3),console.log("所有测试完成")}catch(e){console.error("测试过程中发生错误:",e),(0,m.P0)(`测试失败: ${e.message}`,3e3,!0)}console.groupEnd()},h=()=>{console.group("测试按钮事件绑定");try{const e=document.querySelectorAll(".custom-image-prompt-button, .image-prompt-button");if(0===e.length)return void console.log("未找到任何画图按钮，请在聊天中先创建一些按钮");console.log(`找到${e.length}个按钮，将显示它们的详细信息：`),e.forEach(((e,t)=>{const n=e.getAttribute("data-prompt"),r=e.closest(".mes"),o=r?r.getAttribute("mesid"):"未知";console.log(`按钮 ${t+1}:`),console.log(`- 提示词: "${n}"`),console.log(`- 消息ID: ${o}`),console.log(`- 事件监听器数量: ${e._events?.click?.length||0}`)})),console.log("测试完成")}catch(e){console.error("测试按钮绑定时出错:",e)}console.groupEnd()};var y=o(685),v=o(428);let w,b;try{w=window.SlashCommand||window.SillyTavern&&window.SillyTavern.SlashCommand,b=window.SlashCommandParser||window.SillyTavern&&window.SillyTavern.SlashCommandParser,w&&b||console.warn("无法从全局对象导入斜杠命令类, 将在运行时再次尝试")}catch(e){console.warn("导入斜杠命令类失败:",e)}function S(e){try{if(void 0!==window.SillyTavern&&"function"==typeof window.SillyTavern.getSlashCommandList){const t=window.SillyTavern.getSlashCommandList();if(Array.isArray(t)&&t.some((t=>t.name===e)))return!0}const t=window.SlashCommandParser||window.SillyTavern&&window.SillyTavern.SlashCommandParser;if(t&&"function"==typeof t.getCommands){const n=t.getCommands();if(Array.isArray(n)&&n.some((t=>t.name===e)))return!0}if("function"==typeof window.getContext){const t=window.getContext();if(t&&t.SlashCommandParser&&"function"==typeof t.SlashCommandParser.getCommands){const n=t.SlashCommandParser.getCommands();if(Array.isArray(n)&&n.some((t=>t.name===e)))return!0}}try{if("function"==typeof window.executeSlashCommands){}}catch(e){}return!1}catch(e){return console.warn("检查命令注册状态失败:",e),!1}}function _(){const e=document.getElementById("extensionsMenu");if(!e)return console.warn("扩展菜单未找到，将在菜单加载后重试"),void setTimeout(_,1e3);if(document.getElementById("jjdd_huatu_settings_button")||document.getElementById("jjdd_huatu_generate_button"))return void console.log("画图扩展按钮已存在");e.insertAdjacentHTML("beforeend",'\n    <div class="extension_container interactable" id="jjdd_huatu_settings_container" tabindex="0">\n        <div class="list-group-item flex-container flexGap5 interactable" id="jjdd_huatu_settings_button" tabindex="0">\n            <div class="fa-fw fa-solid fa-palette extensionsMenuExtensionButton"></div>\n            <span data-i18n="Drawing Settings">画图设置</span>\n        </div>\n    </div>'),e.insertAdjacentHTML("beforeend",'\n    <div class="extension_container interactable" id="jjdd_huatu_generate_container" tabindex="0">\n        <div class="list-group-item flex-container flexGap5 interactable" id="jjdd_huatu_generate_button" tabindex="0">\n            <div class="fa-fw fa-solid fa-image extensionsMenuExtensionButton"></div>\n            <span data-i18n="Generate Image">快速生图</span>\n        </div>\n    </div>'),document.getElementById("jjdd_huatu_settings_button").addEventListener("click",(function(){const e=new CustomEvent("jjdd_huatu_toggle_settings",{detail:!0});document.dispatchEvent(e)})),document.getElementById("jjdd_huatu_generate_button").addEventListener("click",(function(){const e=document.getElementById("send_textarea"),t=e?e.value.trim():"",n=new CustomEvent("jjdd_huatu_generate_direct",{detail:{prompt:t}});document.dispatchEvent(n)}))}function E(){try{void 0===window.SillyTavern&&console.warn("SillyTavern全局对象不可用，可能还未初始化完成");const e=S("draw"),t=S("qx"),n=S("QX");if(e&&t&&n)return!0;let r=null,o=null;if(void 0!==window.SlashCommand?r=window.SlashCommand:void 0!==window.SillyTavern&&window.SillyTavern.SlashCommand?r=window.SillyTavern.SlashCommand:void 0!==w&&(r=w),void 0!==window.SlashCommandParser?o=window.SlashCommandParser:void 0!==window.SillyTavern&&window.SillyTavern.SlashCommandParser?o=window.SillyTavern.SlashCommandParser:void 0!==b&&(o=b),!(r&&o||"function"!=typeof window.getContext)){const e=window.getContext();e&&(!r&&e.SlashCommand&&(r=e.SlashCommand),!o&&e.SlashCommandParser&&(o=e.SlashCommandParser))}if(!(r&&o||void 0===window.SillyTavern||"function"!=typeof window.SillyTavern.getContext)){const e=window.SillyTavern.getContext();e&&(!r&&e.SlashCommand&&(r=e.SlashCommand),!o&&e.SlashCommandParser&&(o=e.SlashCommandParser))}if(void 0!==window.SillyTavern&&"function"==typeof window.SillyTavern.registerSlashCommand){e||window.SillyTavern.registerSlashCommand("draw",(e=>{const t=e.trim();if(t){const e=new CustomEvent("jjdd_huatu_generate_direct",{detail:{prompt:t}});return document.dispatchEvent(e),!0}return!1}),"使用提示词生成图片",["image","picture"],!0);const r=async()=>await(0,y.i)()||"";return t||window.SillyTavern.registerSlashCommand("qx",r,"取消正在进行的画图任务",[],!1),n||window.SillyTavern.registerSlashCommand("QX",r,"取消正在进行的画图任务",[],!1),!0}if(!o||"function"!=typeof o.addCommandObject||!r||"function"!=typeof r.fromProps){console.warn("无法找到可用的斜杠命令API，无法注册命令");try{const e=Object.keys(window).filter((e=>e.includes("Slash")||e.includes("slash")||e.includes("Command")||e.includes("command")));if(console.log("可能的相关全局对象:",e.join(", ")),"function"==typeof document.querySelector){const e=document.querySelectorAll("script"),t=Array.from(e).filter((e=>e.src&&(e.src.includes("slash")||e.src.includes("command"))));console.log("可能包含斜杠命令的脚本:",t.map((e=>e.src)).join(", "))}if("function"==typeof window.registerSlashCommand){console.log("发现全局registerSlashCommand函数，尝试使用它注册命令");try{return t||(window.registerSlashCommand("qx",(async()=>await(0,y.i)()||""),[],"取消正在进行的画图任务"),console.log("已通过全局函数注册 /qx 命令")),n||(window.registerSlashCommand("QX",(async()=>await(0,y.i)()||""),[],"取消正在进行的画图任务"),console.log("已通过全局函数注册 /QX 命令")),!0}catch(e){console.error("使用全局registerSlashCommand函数注册命令失败:",e)}}}catch(e){console.error("尝试诊断斜杠命令API时出错:",e)}return!1}try{const a='\n                    <div>\n                        取消正在进行的画图任务。\n                    </div>\n                    <div>\n                        <strong>示例:</strong>\n                        <ul>\n                            <li>\n                                <pre><code class="language-stscript">/qx</code></pre>\n                                取消当前进行中的画图任务\n                            </li>\n                            <li>\n                                <pre><code class="language-stscript">/QX</code></pre>\n                                同上，大小写均可\n                            </li>\n                        </ul>\n                    </div>\n                ';if(e||o.addCommandObject(r.fromProps({name:"draw",callback:e=>{const t=e.trim();if(t){const e=new CustomEvent("jjdd_huatu_generate_direct",{detail:{prompt:t}});return document.dispatchEvent(e),!0}return!1},returns:"生成图片的结果",helpString:'\n                                <div>\n                                    使用提示词生成图片。\n                                </div>\n                                <div>\n                                    <strong>示例:</strong>\n                                    <ul>\n                                        <li>\n                                            <pre><code class="language-stscript">/draw 一只可爱的猫</code></pre>\n                                            快速调用api用提示词输入框内容生成图片\n                                        </li>\n                                    </ul>\n                                </div>\n                            '})),t||o.addCommandObject(r.fromProps({name:"qx",callback:async()=>{console.log("执行取消画图任务命令");return await(0,y.i)()||""},returns:"取消绘图任务的结果",helpString:a})),n||o.addCommandObject(r.fromProps({name:"QX",callback:async()=>{console.log("执行取消画图任务命令");return await(0,y.i)()||""},returns:"取消绘图任务的结果",helpString:a})),"function"==typeof o.getCommands){const e=o.getCommands(),t=e.some((e=>"draw"===e.name)),n=e.some((e=>"qx"===e.name)),r=e.some((e=>"QX"===e.name));if(t||n||r)return!0}return!1}catch(e){return console.error("注册命令到SlashCommandParser失败:",e),!1}return!1}catch(e){return console.error("注册slash命令失败:",e),!1}}function k(){!function(){_();const n=document.getElementById("extensions_settings");if(!n)return void console.error("找不到扩展设置容器");let r=document.getElementById("jjdd_huatu_root");r||(r=document.createElement("div"),r.id="jjdd_huatu_root",n.appendChild(r));let o=document.getElementById("jjdd_huatu_panel_container");o||(o=document.createElement("div"),o.id="jjdd_huatu_panel_container",document.body.appendChild(o)),(0,v.setupImageContainerHoverListeners)(),t.createRoot(r).render((0,s.jsx)(e.StrictMode,{children:(0,s.jsx)(p,{panelContainerId:"jjdd_huatu_panel_container"})}))}();if(!(()=>{try{const e=void 0!==window.eventSource&&window.eventSource||void 0!==window.SillyTavern&&window.SillyTavern.eventSource||"function"==typeof window.getContext&&window.getContext().eventSource;return e&&"function"==typeof e.on?(e.on("app_ready",(()=>{setTimeout((()=>{E(),(0,y.K)()}),1e3)})),setTimeout((()=>{window.SillyTavern&&window.SillyTavern.getContext&&(E(),(0,y.K)())}),2e3),!0):(console.warn("未找到SillyTavern事件系统，将使用延迟注册方式"),!1)}catch(e){return console.error("等待SillyTavern准备就绪时出错:",e),!1}})()){setTimeout((()=>{try{E(),(0,y.K)()}catch(e){console.error("初始化斜杠命令和监听器失败:",e)}}),3e3);[5e3,8e3,12e3,2e4].forEach((e=>{setTimeout((()=>{try{if(window.SlashCommandParser||window.SillyTavern&&window.SillyTavern.SlashCommandParser)E();else if("function"==typeof document.querySelector){document.querySelector('script[src*="slash-commands"]')&&E()}}catch(t){console.warn(`延迟${e}ms尝试注册斜杠命令失败:`,t)}}),e)}))}window.location.search.includes("debug=true")&&(window.jjddHuatuDebug={testDrawingFunctions:g,testButtonBindings:h,info:{version:"1.0.0",name:"JJDD画图",description:"简简单单画图扩展"}},console.log("JJDD画图调试工具已注册，使用window.jjddHuatuDebug访问")),setTimeout((()=>{try{(0,v.initializeImageMoreButtons)(),console.log("已初始化图片“生成更多”和“画图设置”按钮功能")}catch(e){console.error("初始化图片相关功能失败:",e)}}),2e3)}window.jjddHuatuRegisterCommands=function(){console.log("SillyTavern主动调用了jjddHuatuRegisterCommands");try{return E(),!0}catch(e){return console.error("主动调用命令注册失败:",e),!1}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>{k()}),1e3)})):setTimeout((()=>{k()}),1500)})()})();